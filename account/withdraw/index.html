
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=0.7, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="img/favicon.png">
  <!-- <title>username1 | Xtrade</title> -->
  <link rel="stylesheet" href="../../css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!--<link href="//db.onlinewebfonts.com/c/061b39e95e1a0bd25e8d294af8596b2a?family=Font+Awesome+5+Free" rel="stylesheet" type="text/css"/> -->
  <link rel="stylesheet" href="../../css/font-awesome.min.css" type="text/css">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.22/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
  <link rel="stylesheet" href="../../css/bootstrap.css" type="text/css">
  <link href="../../css/dataTables.bootstrap4.css" rel="stylesheet">
  <link href="../../css/responsive.dataTables.min.css" rel="stylesheet">
  <!-- <link href="vendor/jquery-jvectormap/jquery-jvectormap-2.0.3.css" rel="stylesheet"> -->

  <link rel="stylesheet" href="../../css/dark_blue_adminux.css" type="text/css">
  <link rel="stylesheet" href="../../css/margin.css" type="text/css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
  <script src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js"></script>


<style>
  html, body {
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
}
</style>
  <!-- g-hide -->
  <style type="text/css">
    iframe.goog-te-banner-frame {
      display: none !important;
    }
  </style>
  <style type="text/css">
    iframe.skiptranslate {
      display: none !important;
    }
  </style>
  <style type="text/css">
    body {
      position: static !important;
      top: 0px !important;
    }
  </style>
  <!-- end-g-hide -->

<style>
  .ncard {
    box-shadow: 0 0 1px rgba(0, 0, 0, .125), 0 1px 3px rgba(0, 0, 0, .2);
    margin: 0.5px;
    padding: 15px
  }
  input[type=number],input[type=text],input[type=email],input[type=file],textarea{
    border: 1px solid grey;
  }
  select{
    border: 2px solid grey;
  }
  a{
    text-decoration: none;
  }

  .blink_me {
  animation: blinker 1s linear infinite;
}

@keyframes blinker {
  50% {
    opacity: 0;
  }
}

/* ----- SweetAlert Custom Styles ----- */
.custom-swal-popup {
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    padding: 25px 20px;
    font-family: 'Inter', sans-serif;
}

.custom-swal-title {
    font-size: 1.3rem;
    font-weight: 700;
    color: #111;
    margin-bottom: 15px;
}

.custom-swal-inputs {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 10px;
}

.custom-input {
    border-radius: 8px !important;
    border: 1px solid #ddd !important;
    font-size: 0.95rem;
    box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
    transition: border-color 0.2s, box-shadow 0.2s;
}

.custom-input:focus {
    border-color: #007bff !important;
    box-shadow: 0 0 0 3px rgba(0,123,255,0.15) inset !important;
    outline: none !important;
}

.custom-swal-btn {
    background-color: #007bff !important;
    color: #fff !important;
    font-weight: 600 !important;
    padding: 10px 20px !important;
    border-radius: 8px !important;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.custom-swal-btn:hover {
    background-color: #0056b3 !important;
}

.custom-swal-cancel {
    background-color: #f8f9fa !important;
    color: #333 !important;
    font-weight: 500 !important;
    padding: 10px 20px !important;
    border-radius: 8px !important;
    border: 1px solid #ddd !important;
}

.custom-swal-cancel:hover {
    background-color: #e2e6ea !important;
}

</style>

<!-- g-hide -->
<!-- <body class="menuclose menuclose-right"> -->
<body class="menuclose menuclose-right" style="">
<!-- <body class="menuclose menuclose-right  " style="background:linear-gradient(to right, #ffba00 0%, #fc9244 30%, #252d47 100%)"> -->
<!-- <body class="menuclose menuclose-right rounded " style="background:linear-gradient(to right, #ffba00 0%, black 50%, #ffba00 100%)"> -->

  <!-- Page Loader -->
  <!-- <div class="loader_wrapper align-items-center text-center">
    <div class="load7 load-wrapper">
      <img src="img/logo.png" alt="" class="loading_img">
      <div class="loader"> Loading... </div>
      <div class="clearfix"></div>
      <br>
      <br>
      <br>
      <br>
      <h4 class="text-white">Petal of Flower</h4>
      <p>Awesome things are getting ready...</p>
    </div>
  </div> -->
  <!-- Page Loader Ends -->


  <header class="navbar-fixed">
    <nav class="navbar navbar-toggleable-md navbar-inverse bg-faded">
      <div class="sidebar-left"> <a class="navbar-brand imglogo" href="home"></a>
        <button class="btn btn-link icon-header mr-sm-2 pull-right menu-collapse"><span class="fa fa-bars"></span></button>
      </div>
      <!-- <form class="form-inline mr-sm-2  pull-left search-header hidden-md-down">
        <input class="form-control " type="text" placeholder="Search" id="search_header">
        <button class="btn btn-link icon-header " type="submit"><span class="fa fa-search"></span></button>
      </form> -->
      <div class="d-flex mr-auto"> &nbsp;</div>
      <ul class="navbar-nav content-right">
        <li class="align-self-center">
          <!-- hidden-md-down -->
          <span>Language:</span>
          <select class="custom-select lang-sel" style="width:110px;border: 0px solid #0080db00;" id="language" onchange="changeLanguageByButtonClick()">
            <option value="en" selected>English</option>
            <option value="af">Afrikanns</option>
            <option value="sq">Albanian</option>
            <option value="ar">Arabic</option>
            <option value="hy">Armenian</option>
            <option value="eu">Basque</option>
            <option value="bn">Bengali</option>
            <option value="bg">Bulgarian</option>
            <option value="ca">Catalan</option>
            <option value="km">Cambodian</option>
            <option value="zh-CN">Chinese (Mandarin)</option>
            <option value="hr">Croation</option>
            <option value="cs">Czech</option>
            <option value="da">Danish</option>
            <option value="nl">Dutch</option>
            <option value="et">Estonian</option>
            <option value="fj">Fiji</option>
            <option value="fi">Finnish</option>
            <option value="fr">French</option>
            <option value="ka">Georgian</option>
            <option value="de">German</option>
            <option value="el">Greek</option>
            <option value="gu">Gujarati</option>
            <option value="he">Hebrew</option>
            <option value="hi">Hindi</option>
            <option value="hu">Hungarian</option>
            <option value="is">Icelandic</option>
            <option value="id">Indonesian</option>
            <option value="ga">Irish</option>
            <option value="it">Italian</option>
            <option value="ja">Japanese</option>
            <option value="jw">Javanese</option>
            <option value="ko">Korean</option>
            <option value="la">Latin</option>
            <option value="lv">Latvian</option>
            <option value="lt">Lithuanian</option>
            <option value="mk">Macedonian</option>
            <option value="ms">Malay</option>
            <option value="ml">Malayalam</option>
            <option value="mt">Maltese</option>
            <option value="mi">Maori</option>
            <option value="mr">Marathi</option>
            <option value="mn">Mongolian</option>
            <option value="ne">Nepali</option>
            <option value="no">Norwegian</option>
            <option value="fa">Persian</option>
            <option value="pl">Polish</option>
            <option value="pt">Portuguese</option>
            <option value="pa">Punjabi</option>
            <option value="qu">Quechua</option>
            <option value="ro">Romanian</option>
            <option value="ru">Russian</option>
            <option value="sm">Samoan</option>
            <option value="sr">Serbian</option>
            <option value="sk">Slovak</option>
            <option value="sl">Slovenian</option>
            <option value="es">Spanish</option>
            <option value="sw">Swahili</option>
            <option value="sv">Swedish </option>
            <option value="ta">Tamil</option>
            <option value="tt">Tatar</option>
            <option value="te">Telugu</option>
            <option value="th">Thai</option>
            <option value="bo">Tibetan</option>
            <option value="to">Tonga</option>
            <option value="tr">Turkish</option>
            <option value="uk">Ukranian</option>
            <option value="ur">Urdu</option>
            <option value="uz">Uzbek</option>
            <option value="vi">Vietnamese</option>
            <option value="cy">Welsh</option>
            <option value="xh">Xhosa</option>
          </select>
        </li>
        <li class="v-devider"></li>
                <li class="v-devider"></li>
        <li class="nav-item "> <a class="btn btn-link icon-header menu-collapse-right" href="#"><span class="fa fa-podcast"></span> </a> </li>
      </ul>
      <div class="sidebar-right pull-right ">
        <ul class="navbar-nav  justify-content-end">
          <li class="nav-item">
            <button class="btn-link btn userprofile" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="userpic"><img src="img/profile/default.png" alt="user pic"></span> <span class="text">username1</span></button>
            <div class="dropdown-menu"> 
              <a class="dropdown-item" href="settings"><i class="fas fa-user"></i> Profile</a> 
              <a class="dropdown-item" href="deposit"><i class="fas fa-coins"></i> Deposit</a>
              <a class="dropdown-item" href="withdraw"><i class="fas fa-wallet"></i> Withdraw</a>
              <a class="dropdown-item" href="transactions"><i class="fas fa-exchange-alt"></i> Transactions</a>
              <a class="dropdown-item" href="logout"><i class="fa fa-sign-out"></i> Logout</a>
            </div>
          </li>
          <style>
            /* Ensure the menu is hidden by default */
.dropdown-menu {
    display: none;
    position: absolute;
    /* add your positioning styles here */
}

/* JavaScript toggles this class */
.dropdown-menu.show {
    display: block;
}
          </style>
          <script>
            document.addEventListener('DOMContentLoaded', function() {
    const profileBtn = document.querySelector('.userprofile');
    const dropdownMenu = document.querySelector('.dropdown-menu');

    // Toggle dropdown on click
    profileBtn.addEventListener('click', function(e) {
        e.stopPropagation(); // Prevents the click from immediately reaching the 'window' listener
        const isExpanded = this.getAttribute('aria-expanded') === 'true';
        
        // Toggle state
        this.setAttribute('aria-expanded', !isExpanded);
        dropdownMenu.classList.toggle('show');
    });

    // Close dropdown when clicking anywhere outside the menu
    window.addEventListener('click', function(e) {
        if (!profileBtn.contains(e.target) && !dropdownMenu.contains(e.target)) {
            dropdownMenu.classList.remove('show');
            profileBtn.setAttribute('aria-expanded', 'false');
        }
    });
});
          </script>
          <li><a href="logout" class="btn btn-link icon-header"><span class="fa fa-sign-out"></span></a></li>
        </ul>
      </div>
    </nav>
  </header>
  <div class="main-sidebar sidebar-left">
    <div class="user-menu-items">
      <div class="list-unstyled btn-group">
        <button class="media btn btn-link" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> 
          <br>
        <span class="message_userpic"><img class="d-flex" src="img/profile/default.png" alt="Generic user image"></span> 
          <span class="media-body"> <span class="mt-0 mb-1">username2 username3</span>
            <small>Verified</small> </span> </button>
      </div>
    </div>
    <br>
    <ul class="nav flex-column in" id="side-menu">
      <li class=" nav-item"><a href="account" class="nav-link "><i class="fas fa-tachometer-alt"></i> Account</a>
      </li>
      <li class=" nav-item"><a href="deposit" class="nav-link "><i class="fas fa-coins"></i> Deposit</a>
      </li>
      <li class=" nav-item"><a href="withdraw" class="nav-link "><i class="fas fa-wallet"></i> Withdraw</a>
      </li>
      <li class=" nav-item"><a href="history" class="nav-link "><i class="fas fa-exchange-alt"></i> History</a>
      </li>
      <li class=" nav-item"><a href="transactions" class="nav-link "><i class="fas fa-exchange-alt"></i> Transactions</a>
      </li>
      <!-- <li class=" nav-item"><a href="trading" class="nav-link "><i class="fas fa-chart-bar"></i> Place Trade</a> -->
      </li>
      <li class=" nav-item"><a href="purchase" class="nav-link "><i class="fas fa-chart-pie"></i> Account Upgrade</a>
      </li>
      <li class=" nav-item"><a href="purchase#signal_deposit" class="nav-link "><i class="fa fa-signal"></i> Signal Purchase</a>
      </li>
      <li class=" nav-item"><a href="news" class="nav-link "><i class="fas fa-newspaper"></i>News </a>
      </li>
      <li class=" nav-item"><a href="settings" class="nav-link "><i class="fas fa-cogs"></i>Account Settings </a>
      </li>
      <li class=" nav-item"><a href="logout" class="nav-link "><i class="fa fa-sign-out"></i> Logout</a>
      </li>
      <li class="title-nav">
      <li class="nav-item "> <a href="javascript:void(0)" class="menudropdown nav-link">Live Analysis<i class="fa fa-angle-down "></i></a>
        <ul class="nav flex-column nav-second-level ">
          <li class="nav-item"><a class="nav-link" href="technical"><i class="fas fa-expand-arrows-alt"></i> Technical Analysis</a></li>
          <li class="nav-item"><a class="nav-link" href="chart"><i class="fas fa-chart-area"></i> Live Market Chart</a>
          <li class="nav-item"><a class="nav-link" href="calendar"><i class="fas fa-calendar-alt"></i> Market Calendar</a>
          </li>
        </ul>
        <!-- /.nav-second-level -->
      </li>
      </li>
    </ul>
    <hr>
    <ul class="nav flex-column in">
      <li class="nav-item "><a href="#" class="nav-link"><span><span class="dynamicsparkline2">Loading..</span>
          </span></a></li>
                    
    </ul>
    <hr>
    <br>
    <br>
  </div>
  <div class="wrapper-content">
    <!-- <div class="container" style="max-width:1300px"> -->
    <div class="container" style="max-width:1400px">

  <title>username1 | WIDTHDRAWAL</title>



<script type="text/javascript" src="int1/js/profile.js"></script>
<script type="text/javascript" src="int1/js/withdraw.js"></script>

<div id="withdraw_panel" class="card shadow-lg" style="max-width:700px; margin:30px auto; background:#1f253a; border-radius:16px; overflow:hidden; border:1px solid #364269;">
    <div class="card-header d-flex justify-content-between align-items-center" style="background:#252d47; padding:20px 30px; border-bottom:1px solid #364269;">
        <div>
            <h4 class="text-white mb-0"><i class="fas fa-wallet me-2 text-primary"></i> Funds Outbound</h4>
            <small class="text-white-50">Secure assets transfer to external destinations</small>
        </div>
        <div class="text-end">
            <span class="badge bg-success shadow-sm" id="sync-status">Connected</span>
        </div>
    </div>
    
    <div class="card-body p-4">
        <div class="balance-container text-center mb-4 p-4" style="background: rgba(0,0,0,0.2); border-radius: 12px; border: 1px dashed #364269;">
            <p class="text-uppercase fw-bold text-white-50 small mb-1">Available for Withdrawal</p>
            <h1 class="display-5 fw-bold text-success mb-0" id="user-balanca">$0.00</h1>
            <div class="text-white-50 small mt-1">
                + Bonus: <span id="user-bonus" class="text-info">$0.00</span>
            </div>
            <div id="processing_note" class="text-info small mt-2" style="display:none;">
                <i class="fas fa-sync fa-spin me-1"></i> Syncing with ledger...
            </div>
        </div>

        <div id="withdraw_section" style="display:none;">
            <div class="withdrawal-form-wrapper" style="max-width: 450px; margin: 0 auto;">
                <div class="form-group mb-4">
                    <div class="d-flex justify-content-between">
                        <label class="text-white-50 small fw-bold">Enter Amount</label>
                        <span class="text-primary small cursor-pointer" id="max_withdraw_btn" style="cursor:pointer">Withdraw Max</span>
                    </div>
                    <div class="input-group input-group-lg shadow-sm">
                        <span class="input-group-text bg-dark border-secondary text-white border-end-0">$</span>
                        <input type="number" id="withdraw_amount" class="form-control bg-dark text-white border-secondary border-start-0" placeholder="0.00" min="500" step="0.01">
                    </div>
                    
                    <div class="fee-calculator mt-3 p-3 bg-darker rounded border border-secondary" style="background: #161b2d;">
                        <div class="d-flex justify-content-between small mb-1">
                            <span class="text-white-50">Network Fee (2%):</span>
                            <span class="text-white" id="fee_display">$0.00</span>
                        </div>
                        <div class="d-flex justify-content-between fw-bold">
                            <span class="text-white-50">Total Deduction:</span>
                            <span class="text-danger" id="total_deduction">$0.00</span>
                        </div>
                    </div>
                    <small class="text-muted d-block mt-2"><i class="fas fa-info-circle me-1"></i> Threshold: Internal transfers are processed within 24 hours.</small>
                </div>
                
                <p class="text-center text-white-50 small mb-3">Choose Settlement Method:</p>
                <div class="row g-3">
                    <div class="col-6">
                        <button class="btn btn-outline-primary w-100 py-3 d-flex flex-column align-items-center justify-content-center" id="cryptoBtn">
                            <i class="fab fa-bitcoin fa-2x mb-2"></i>
                            <span>Crypto Assets</span>
                        </button>
                    </div>
                    <div class="col-6">
                        <button class="btn btn-outline-info w-100 py-3 d-flex flex-column align-items-center justify-content-center" id="bankBtn">
                            <i class="fas fa-university fa-2x mb-2"></i>
                            <span>Bank Wire</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div id="low_balance_msg" class="text-center p-5" style="display:none; background: rgba(0,0,0,0.2); border-radius: 12px; border: 1px dashed #444;">
    <div class="mb-3">
        <i class="fas fa-lock fa-3x text-warning"></i>
    </div>
    <h5 class="text-white">Withdrawal Gateway Locked</h5>
    <p class="text-white-50">
        Your current balance has not reached the minimum threshold for external transfers.<br>
        <span class="text-primary fw-bold">Minimum: $500.00</span> | 
        <span class="text-info fw-bold">Maximum: $100,000.00</span>
    </p>
    <a href="/account/deposit" class="btn btn-sm btn-outline-primary mt-2">Increase Balance</a>
</div>
    </div>
    
    <div class="card-footer text-center border-top border-secondary" style="background: rgba(0,0,0,0.1); padding: 15px;">
        <span class="text-white-50 x-small"><i class="fas fa-shield-alt me-1"></i> AES-256 End-to-End Encrypted Transaction Tunnel</span>
    </div>
</div>

<div class="modal shadow" id="cryptoModal" tabindex="-1" style="z-index: 10001; background: rgba(0,0,0,0.7);">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content border-0" style="background:#1f253a; color:#fff; border-radius: 12px;">
      <div class="modal-header border-bottom border-secondary" style="background: #252d47;">
        <h5 class="modal-title"><i class="fab fa-ethereum text-warning me-2"></i>Blockchain Settlement</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body p-4">
        <form id="cryptoForm">
          <div class="mb-4">
            <label class="form-label text-white-50 small fw-bold">Asset Selection</label>
            <div class="asset-selector d-flex gap-2">
                <div class="asset-option p-2 rounded border border-secondary flex-grow-1 text-center bg-dark cursor-pointer active-asset" data-val="BTC" style="border-color: #f7931a !important; background: rgba(247,147,26,0.1) !important;">
                    <i class="fab fa-bitcoin text-warning"></i><br><small>BTC</small>
                </div>
                <div class="asset-option p-2 rounded border border-secondary flex-grow-1 text-center bg-dark cursor-pointer" data-val="ETH">
                    <i class="fab fa-ethereum text-primary"></i><br><small>ETH</small>
                </div>
                <div class="asset-option p-2 rounded border border-secondary flex-grow-1 text-center bg-dark cursor-pointer" data-val="USDT">
                    <i class="fas fa-dollar-sign text-success"></i><br><small>USDT</small>
                </div>
            </div>
            <input type="hidden" id="crypto_asset" value="BTC">
          </div>
          <div class="mb-3">
            <label class="form-label text-white-50 small fw-bold">Receiving Wallet Address</label>
            <div class="input-group">
                <input type="text" class="form-control bg-dark text-white border-secondary" id="crypto_address" placeholder="e.g. 1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa" required>
                <button class="btn btn-secondary border-secondary" type="button" id="paste_wallet"><i class="fas fa-paste"></i></button>
            </div>
            <div class="form-text text-danger x-small mt-2"><i class="fas fa-exclamation-triangle me-1"></i> Sending to an incorrect address will result in permanent loss of funds.</div>
          </div>
          <button type="submit" class="btn btn-primary w-100 py-3 fw-bold mt-2 shadow-sm">Authorize Smart Contract</button>
        </form>
      </div>
    </div>
  </div>
</div>

<div class="modal shadow" id="bankModal" tabindex="-1" style="z-index: 10002; background: rgba(0,0,0,0.7);">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content border-0" style="background:#1f253a; color:#fff; border-radius: 12px;">
      <div class="modal-header border-bottom border-secondary" style="background: #252d47;">
        <h5 class="modal-title"><i class="fas fa-university text-info me-2"></i>Global Bank Wire</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body p-4">
        <form id="bankForm">
          <div class="row g-3">
              <div class="col-md-6">
                  <label class="text-white-50 small fw-bold mb-1">Beneficiary Name</label>
                  <input type="text" class="form-control bg-dark text-white border-secondary" id="bank_acc_name" placeholder="Legal Account Name" required>
              </div>
              <div class="col-md-6">
                  <label class="text-white-50 small fw-bold mb-1">Financial Institution</label>
                  <input type="text" class="form-control bg-dark text-white border-secondary" id="bank_name_field" placeholder="Full Bank Name" required>
              </div>
              <div class="col-md-12">
                  <label class="text-white-50 small fw-bold mb-1">Account Number / IBAN</label>
                  <input type="text" class="form-control bg-dark text-white border-secondary" id="bank_number" placeholder="International Bank Account Number" required>
              </div>
              <div class="col-md-6">
                  <label class="text-white-50 small fw-bold mb-1">SWIFT / BIC Code</label>
                  <input type="text" class="form-control bg-dark text-white border-secondary" id="bank_swift" placeholder="8 or 11 characters" required>
              </div>
              <div class="col-md-6">
                  <label class="text-white-50 small fw-bold mb-1">Country</label>
                  <select class="form-control bg-dark text-white border-secondary" id="bank_country">
                      <option value="US">United States</option>
                      <option value="UK">United Kingdom</option>
                      <option value="EU">European Union</option>
                      <option value="OTHER">Other Region</option>
                  </select>
              </div>
          </div>
          
          <div class="alert mt-4 mb-0 small" style="background: rgba(23, 162, 184, 0.1); border: 1px solid #17a2b8; color: #bee5eb;">
              <i class="fas fa-info-circle me-2"></i> Swift transfers may take between 3-5 business days depending on intermediary banks.
          </div>
          <button type="submit" class="btn btn-info w-100 py-3 fw-bold mt-4 shadow-sm text-white">Initialize Electronic Transfer</button>
        </form>
      </div>
    </div>
  </div>
</div>

<script>
$(document).ready(function () {
    "use strict";

    /* ================= CONFIG ================= */
    const CONFIG = {
        MIN_LIMIT: 500,
        MAX_LIMIT: 100000,
        FEE_PERCENTAGE: 0.02,
        API_VERIFY_PIN: 'https://xtrade3-ri76ta6k.b4a.run/account/verify-pin',
        API_WITHDRAW: 'https://xtrade3-ri76ta6k.b4a.run/account/withdraw'
    };

    const USER_EMAIL = localStorage.getItem('user_email');
    let userCurrentBalance = 0;

    if (!USER_EMAIL) {
        Swal.fire('Session Error', 'Your session has expired. Please log in again.', 'error');
        return;
    }

    /* ================= PREVENT PAGE RELOAD ================= */
    $(document).on('submit', 'form', e => e.preventDefault());
    $(document).on('keydown', '.swal2-container input', e => {
        if (e.key === 'Enter') e.preventDefault();
    });

    /* ================= BALANCE CHECK ================= */
    const checkEligibility = () => {
        userCurrentBalance = parseFloat($('#user-balanca').text().replace(/[^0-9.]/g, '')) || 0;
        const userBonus = parseFloat($('#user-bonus').text().replace(/[^0-9.]/g, '')) || 0;
        const totalAvailable = userCurrentBalance + userBonus;

        if (totalAvailable >= CONFIG.MIN_LIMIT) {
            $('#withdraw_section').slideDown(200);
            $('#low_balance_msg').hide();
        } else {
            $('#withdraw_section').hide();
            $('#low_balance_msg').show();
        }
    };

    checkEligibility();
    const observer = new MutationObserver(checkEligibility);
    if(document.getElementById('user-balanca')) observer.observe(document.getElementById('user-balanca'), { childList: true, subtree: true });
    if(document.getElementById('user-bonus')) observer.observe(document.getElementById('user-bonus'), { childList: true, subtree: true });

    /* ================= FEE CALC ================= */
    $('#withdraw_amount').on('input', function () {
        const amt = parseFloat(this.value) || 0;
        const fee = amt * CONFIG.FEE_PERCENTAGE;
        const total = amt + fee;

        $('#fee_display').text(`$${fee.toFixed(2)}`);
        $('#total_deduction').text(`$${total.toFixed(2)}`);
    });

    $('#max_withdraw_btn').on('click', function () {
        const userBonus = parseFloat($('#user-bonus').text().replace(/[^0-9.]/g, '')) || 0;
        const totalAvailable = userCurrentBalance + userBonus;
        const max = totalAvailable / (1 + CONFIG.FEE_PERCENTAGE);
        $('#withdraw_amount').val(max.toFixed(2)).trigger('input');
    });

    /* ================= VALIDATION ================= */
    const validateAmount = () => {
        const amt = parseFloat($('#withdraw_amount').val());
        if (!amt || amt < CONFIG.MIN_LIMIT) {
            Swal.fire('Limit Error', `Minimum withdrawal is $${CONFIG.MIN_LIMIT}`, 'error');
            return false;
        }
        if (amt > CONFIG.MAX_LIMIT) {
            Swal.fire('Limit Error', `Maximum withdrawal is $${CONFIG.MAX_LIMIT}`, 'error');
            return false;
        }
        const userBonus = parseFloat($('#user-bonus').text().replace(/[^0-9.]/g, '')) || 0;
        if (amt * (1 + CONFIG.FEE_PERCENTAGE) > (userCurrentBalance + userBonus)) {
            Swal.fire('Balance Error', 'Insufficient balance', 'error');
            return false;
        }
        return true;
    };

    /* ================= PIN VERIFY ================= */
    const requestPin = payload => {
        Swal.fire({
            title: 'Transaction Authorization',
            html: `<p style="font-size:14px;">Enter your 4-digit transaction PIN</p>
                   <input id="txn_pin" class="swal2-input" maxlength="4" type="password" placeholder="••••">`,
            showCancelButton: true,
            confirmButtonText: 'Verify PIN',
            allowOutsideClick: false,
            preConfirm: () => {
                const pin = $('#txn_pin').val();
                if (!/^\d{4}$/.test(pin)) {
                    Swal.showValidationMessage('PIN must be exactly 4 digits');
                    return false;
                }
                return pin;
            }
        }).then(res => {
            if (!res.isConfirmed) return;

            Swal.fire({ title: 'Verifying PIN...', allowOutsideClick: false, didOpen: () => Swal.showLoading() });

            // POST email + pin to verify
            $.ajax({
                url: CONFIG.API_VERIFY_PIN,
                method: 'POST',
                contentType: 'application/json',
                data: JSON.stringify({ email: USER_EMAIL, pin: res.value }),
                success: verify => {
                    if (!verify.success) {
                        Swal.fire('Authorization Failed', verify.message, 'error');
                        return;
                    }
                    // PIN correct → proceed to withdrawal
                    submitWithdrawal(payload);
                },
                error: () => Swal.fire('Server Error', 'PIN verification failed', 'error')
            });
        });
    };

    /* ================= SUBMIT WITHDRAW ================= */
    const submitWithdrawal = payload => {
        Swal.fire({ title: 'Processing Withdrawal...', allowOutsideClick: false, didOpen: () => Swal.showLoading() });

        // POST email + payload
        $.ajax({
            url: CONFIG.API_WITHDRAW,
            method: 'POST',
            contentType: 'application/json',
            data: JSON.stringify({ ...payload, email: USER_EMAIL }),
            success: res => {
                if (res.success) {
                    Swal.fire('Success', res.message, 'success').then(() => location.reload());
                } else {
                    Swal.fire('Failed', res.message, 'error');
                }
            },
            error: () => Swal.fire('Server Error', 'Unable to process request', 'error')
        });
    };

/* ================= CRYPTO WITHDRAWAL ================= */
$('#cryptoBtn').on('click', function () {
    if (!validateAmount()) return;

    const walletTypes = [
        "BTC","ETH","USDT","BNB","ADA","SOL","XRP","DOT","DOGE","LTC",
        "BCH","LINK","MATIC","UNI","AVAX","ALGO","ATOM","VET","FIL","TRX",
        "EOS","XTZ","SHIB","AAVE","DAI","FTT","NEO","XLM","KSM","ICP",
        "GRT","MKR","SUSHI","SNX","YFI","ZEC","BAT","DGB","QTUM","ONT",
        "ENJ","NANO","KAVA","LRC","HOT","COMP","DCR","OMG","CEL","CHZ",
        "STX","RUNE","KLAY","MIOTA","ZRX","DASH","VTHO","RVN","ICX","SC",
        "NEM","FTM","AR","BTG","MANA","CRO","ANKR","HNT","ONE","KNC",
        "ZEN","XEM","IOST","BTT","HIVE","TFUEL","XVG","QTCON","STMX","LUNA",
        "AVAXC","NEAR","SAND","CHSB","CVC","BAL","REN","OCEAN","OMG","LPT",
        "BAND","SRM","CELO","RSR","CVX","ALPHA","RAY","1INCH","YFII","CRV",
        "TWT","HUSD","UST","KSM","EGLD","ANKR","HNT","FLM","LRC","CELR",
        "STMX","CHR","NKN","WAXP","XDC","KDA","GLM","ROSE","ARDR","DODO",
        "ORN","CTSI","REEF","FARM","ORN","AKRO","COTI","OXT","PUNDIX","FET",
        "FIO","XVS","RLC","TRAC","LINA","MTL","BOND","BTS","PHA","KP3R",
        "RSR","FOR","NFTX","KP3R","MLN","ROOK","PNT","SXP","REEF","AVA",
        "NMR","POLS","RGT","AKRO","KP3R","AST","FXS","GHST","POLY","ORN",
        "SLP","CVP","DENT","PHA","ORN","FIS","RLY","SFP","MIR","KYL",
        "AUTO","FARM","HARD","COVER","UOS","JST","IDEX","GTC","TRIBE","SFI",
        "ORN","PERP","MCB","MXC","BICO","PUNDIX","IQ","NMR","PLA","CTK",
        "DEXE","KP3R","SOLO","RAMP","PERL","MASK","RAI","FORTH","PRQ","MIR"
    ];

    const walletApps = [
        "Metamask","Phantom","Keplr","Trust Wallet","Coinbase Wallet",
        "Ledger","Trezor","Exodus","Atomic Wallet","Binance Chain Wallet",
        "Crypto.com Wallet","Math Wallet","Guarda","TokenPocket","imToken",
        "Rainbow","BitPay","MyEtherWallet","Coinomi","BRD"
        // (rest unchanged)
    ];

    /* ✅ ADDED */
    const cryptoCurrencies = ["USD","EUR","GBP","NGN","CAD","AUD","CHF","JPY"];

    Swal.fire({
        title: 'Crypto Withdrawal',
        html: `
            <div class="custom-swal-inputs">
                <label class="form-label text-white-50 small fw-bold">Account Name</label>
                <input id="c_name" class="swal2-input custom-input" placeholder="Account Name (min 6 chars)">

                <label class="form-label text-white-50 small fw-bold">Wallet Type</label>
                <select id="c_wallet" class="swal2-input custom-input">
                    <option value="">Select Wallet Type</option>
                    ${walletTypes.map(w => `<option value="${w}">${w}</option>`).join("")}
                </select>

                <label class="form-label text-white-50 small fw-bold">Wallet App</label>
                <select id="c_app" class="swal2-input custom-input">
                    <option value="">Select Wallet App</option>
                    ${walletApps.map(a => `<option value="${a}">${a}</option>`).join("")}
                </select>

                <!-- ✅ ADDED -->
                <label class="form-label text-white-50 small fw-bold">Currency</label>
                <select id="c_currency" class="swal2-input custom-input">
                    <option value="">Select Currency</option>
                    ${cryptoCurrencies.map(c => `<option value="${c}">${c}</option>`).join("")}
                </select>

                <label class="form-label text-white-50 small fw-bold">Receiving Wallet Address</label>
                <input id="c_address" class="swal2-input custom-input" placeholder="Wallet Address (min 25 chars)">
            </div>
        `,
        confirmButtonText: 'Continue',
        showCancelButton: true,
        cancelButtonText: 'Cancel',
        preConfirm: () => {
            const name = $('#c_name').val().trim();
            const wallet = $('#c_wallet').val();
            const app = $('#c_app').val();
            const currency = $('#c_currency').val(); // ✅ ADDED
            const address = $('#c_address').val().trim();

            if (!name || !wallet || !app || !currency || !address) {
                Swal.showValidationMessage('All fields are required');
                return false;
            }
            if (name.length < 6) Swal.showValidationMessage('Account Name must be at least 6 characters');
            if (wallet.length < 3) Swal.showValidationMessage('Wallet Type must be at least 3 characters');
            if (address.length < 25) Swal.showValidationMessage('Wallet Address must be at least 25 characters');

            const addressRegex = /^[a-zA-Z0-9]{25,}$/;
            if (!addressRegex.test(address)) Swal.showValidationMessage('Invalid wallet address format');

            return { name, wallet, app, currency, address }; // ✅ ADDED
        }
    }).then(r => {
        if (r.isConfirmed) {
            requestPin({
                amount: parseFloat($('#withdraw_amount').val()),
                method: 'Crypto',
                details: r.value
            });
        }
    });
});

/* ================= BANK WITHDRAWAL ================= */
$('#bankBtn').on('click', function () {
    if (!validateAmount()) return;

    const countries = [
        "United States","United Kingdom","Canada","Australia","Germany",
        "France","Italy","Spain","Nigeria","India","China","Japan",
        "Brazil","Mexico","South Africa","Kenya","Ghana","Egypt","Russia",
        "Turkey","Singapore","Switzerland","Netherlands","Sweden","Norway",
        "Denmark","Finland","Belgium","Austria","Portugal","Poland","Thailand",
        "Vietnam","Malaysia","Indonesia","Philippines","Argentina","Chile",
        "Colombia","Peru","Saudi Arabia","UAE","Qatar","Kuwait","Oman",
        "New Zealand","Ireland","South Korea","Hong Kong","Taiwan","Others"
    ];

    const currencies = ["USD","EUR","GBP","NGN","CAD","AUD","CHF","JPY", "ZAR"]; // ✅ ADDED

    const countryOptions = countries.map(c => `<option value="${c}">${c}</option>`).join('');
    const currencyOptions = currencies.map(c => `<option value="${c}">${c}</option>`).join(''); // ✅ ADDED

    Swal.fire({
        title: 'Bank Withdrawal',
        html: `
            <div class="custom-swal-inputs">
                <label class="form-label text-white-50 small fw-bold">Beneficiary Details</label>
                <input id="b_name" class="swal2-input custom-input" placeholder="Account Name (min 8 chars)">
                <input id="b_bank" class="swal2-input custom-input" placeholder="Bank Name (min 4 chars)">
                
                <label class="form-label text-black-50 small fw-bold">Bank Location</label>
                <select id="b_country" class="swal2-input custom-input">
                    <option value="">Select Country</option>
                    ${countryOptions}
                </select>

                <label class="form-label text-black-50 small fw-bold">Account / IBAN Number</label>
                <input id="b_number" class="swal2-input custom-input" placeholder="Account Number (min 10 digits)">
                
                <!-- ✅ ADDED CURRENCY -->
                <label class="form-label text-black-50 small fw-bold">Currency</label>
                <select id="b_currency" class="swal2-input custom-input">
                    <option value="">Select Currency</option>
                    ${currencyOptions}
                </select>
            </div>
        `,
        confirmButtonText: 'Continue',
        showCancelButton: true,
        cancelButtonText: 'Cancel',
        preConfirm: () => {
            const name = $('#b_name').val().trim();
            const bank = $('#b_bank').val().trim();
            const country = $('#b_country').val();
            const number = $('#b_number').val().trim();
            const currency = $('#b_currency').val(); // ✅ ADDED

            if (!name || !bank || !country || !number || !currency) {
                Swal.showValidationMessage('All fields are required');
            }
            if (name.length < 8) Swal.showValidationMessage('Account Name must be at least 8 characters');
            if (bank.length < 4) Swal.showValidationMessage('Bank Name must be at least 4 characters');
            if (!/^\d{10,}$/.test(number)) Swal.showValidationMessage('Account Number must be at least 10 digits');

            return { name, bank, country, number, currency }; // ✅ RETURN CURRENCY
        }
    }).then(r => {
        if (r.isConfirmed) {
            requestPin({
                amount: parseFloat($('#withdraw_amount').val()),
                method: 'Bank Wire',
                details: r.value
            });
        }
    });
});


});
</script>







<style>
/* Module-specific refinements */
.bg-darker { background-color: #0b0d14; }
.cursor-pointer { cursor: pointer; }
.x-small { font-size: 0.75rem; }
.active-asset { border-width: 2px !important; }
.asset-option:hover { background: rgba(108, 139, 239, 0.1); border-color: #6c8bef; }
#withdraw_amount::-webkit-inner-spin-button, 
#withdraw_amount::-webkit-outer-spin-button { 
  -webkit-appearance: none; 
  margin: 0; 
}
.input-group-text { min-width: 45px; justify-content: center; }
</style>
<br><br>


</div>

<footer class="footer-content ">
  <div class="container ">
    <div class="row align-items-center justify-content-between">
      <div class="col-md-16 col-lg-8 col-xl-8">Copyright 2022 <a href="http://www.Xtrade.live" target="_blank" class="">Xtrade.live</a></div>
    </div>
  </div>
</footer>
</div>


<script>
$(document).ready(function() {
    const API_BASE = 'https://xtrade3-ri76ta6k.b4a.run';
    const userEmail = localStorage.getItem('user_email');
    const DEFAULT_IMG = 'img/profile/default.png';
    
    // Selects all profile image locations: preview, sidebar spans, and message spans
    const profileSelectors = '#profile-preview, .userpic img, .message_userpic img, .social-profile-pic img';

    /**
     * Helper function for forced redirection and session cleanup
     */
    function forceLogout(title, text, targetUrl = './login') {
        localStorage.removeItem('user_email');
        localStorage.removeItem('profile_pic');
        Swal.fire({
            icon: 'error',
            title: title,
            text: text,
            showConfirmButton: false,
            allowOutsideClick: false
        });
        setTimeout(() => { location.href = targetUrl; }, 3000);
    }

    // 1. Initial Local Session Check
    if (!userEmail) {
        forceLogout('Session Expired', 'Please log in again to continue.');
        return;
    }

    async function globalIdentitySync() {
        try {
            const response = await fetch(`${API_BASE}/Dashboard/data`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ email: userEmail })
            });

            // 2. CHECK SERVER REGISTRATION (404)
            if (response.status === 404) {
                forceLogout('Account Not Found', 'This account is not registered. Redirecting...', './register');
                return;
            }

            const result = await response.json();

            if (result.success) {
                const user = result.data;

                // --- 3. SUSPENSION CHECK ---
                if (user.status && user.status.toLowerCase() === 'suspended') {
                    forceLogout('Account Suspended', 'Your account has been suspended. Please contact support.', './login');
                    return;
                }

                // --- 4. PROFILE PICTURE SYNC ---
                const savedPic = localStorage.getItem('profile_pic');
                let finalPicPath;
                if(!savedPic && !user.profile_pic){
                  finalPicPath = DEFAULT_IMG;
                }
                else{
                  finalPicPath = savedPic || user.profile_pic;
                }
                $(profileSelectors).attr('src', finalPicPath);

                // --- 5. UPDATE FINANCIAL DATA ---
                $('#user-investment').text("$" + parseFloat(user.investment || 0).toFixed(2));
                $('#user-balanca').text("$" + parseFloat(user.total_balance || 0).toFixed(2));
                $('#user-bonus').text("$" + parseFloat(user.total_bonus || 0).toFixed(2));

                // --- 6. UPDATE ACCOUNT STATUS UI ---
                const statusContainer = $('#user-bonus').closest('.row').find('.activity-block').last().find('h5 span');
                statusContainer.html('<i style="color:#0f0;font-size:20px" class="fas fa-check-circle blink_me"> Verified</i>');

                // --- 7. IDENTITY & PLACEHOLDER REPLACEMENT ---
                const fullName = `${user.fname} ${user.lname}`;
                const replacements = [
                    { pattern: /\busername2\s+username3\b/gi, value: fullName },
                    { pattern: /\busername2\b/gi, value: user.fname },
                    { pattern: /\busername3\b/gi, value: user.lname },
                    { pattern: /\busername1\b/gi, value: user.username },
                    { pattern: /\buseremail\b/gi, value: user.email },
                    { pattern: /\busermobile\b/gi, value: user.mobile },
                    { pattern: /\busercountry\b/gi, value: user.country },
                    { pattern: /\buserplan\b/gi, value: user.account ? user.account.replace(/[\[\]"]/g, '') : '' }
                ];

                // Update text nodes
                $('*').contents().each(function() {
                    if (this.nodeType === Node.TEXT_NODE) {
                        let text = this.nodeValue;
                        replacements.forEach(r => { text = text.replace(r.pattern, r.value); });
                        this.nodeValue = text;
                    }
                });

                // Update form elements
                $('input, textarea, select').each(function() {
                    let val = $(this).val();
                    if (val && typeof val === 'string') {
                        replacements.forEach(r => { val = val.replace(r.pattern, r.value); });
                        $(this).val(val);
                    }
                });

            } else {
                // If success is false but not a 404 (e.g. general server error)
                forceLogout('Access Denied', result.message || 'Unable to sync profile.');
            }
        } catch (err) {
            console.error("Identity sync error:", err);
        }
    }

    globalIdentitySync();
});
</script>

<!-- <script src="js/styleswitcher.js"></script> -->
<script src="../../scripts/jquery-2.1.1.min.js" type="text/javascript"></script>
<script src="../../scripts/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
<script src="../../scripts/bootstrap.min.js" type="text/javascript"></script>
<script src="../../scripts/jquery.cookie.js" type="text/javascript"></script>
<script src="../../scripts/ie10-viewport-bug-workaround.js"></script>
<script src="../../scripts/circle-progress.min.js" type="text/javascript"></script>
<script type="text/javascript" src="../../scripts/jquery.sparkline.min.js"></script>
<!-- <script src="vendor/jquery-jvectormap/jquery-jvectormap.js"></script>
<script src="vendor/jquery-jvectormap/jquery-jvectormap-world-mill-en.js"></script> -->
<script src="../../scripts/Chart.bundle.min.js" type="text/javascript"></script>
<script src="../../scripts/utils.js" type="text/javascript"></script>
<script src="../../scripts/jquery.spincrement.min.js" type="text/javascript"></script>
<script src="../../scripts/jquery.dataTables.min.js"></script>
<script src="../../scripts/dataTables.bootstrap4.js"></script>
<script src="../../scripts/dataTables.responsive.min.js"></script>
<script src="../../scripts/adminux.js" type="text/javascript"></script>
<script src="../../scripts/dashboard1.js"></script>
<script src="../../scripts/print.js"></script>






<script>
  function referralFunction() {
    var copyReferral = document.getElementById("referral_link");
    copyReferral.select();
    copyReferral.setSelectionRange(0, 99999);
    document.execCommand("copy");
    Swal.fire('', '<b>Referral Link Copied :</b> ' + copyReferral.value + '', '', '');
  }
</script>



<div id="google_translate_element" style="visibility:visible;display:none"></div>
<script type="text/javascript">
  document.getElementsByClassName('skiptranslate')[0].style.visibility = 'hidden';
  document.getElementsByClassName('goog-te-banner-frame')[0].style.visibility = 'hidden';

  function googleTranslateElementInit() {
    new google.translate.TranslateElement({
      pageLanguage: "en"
    }, 'google_translate_element');
  }

  function changeLanguageByButtonClick() {


    var language = document.getElementById("language").value;
    var selectField = document.querySelector("#google_translate_element select");
    for (var i = 0; i < selectField.children.length; i++) {
      var option = selectField.children[i];
      // find desired langauge and change the former language of the hidden selection-field 
      if (option.value == language) {
        selectField.selectedIndex = i;
        // trigger change event afterwards to make google-lib translate this side
        selectField.dispatchEvent(new Event('change'));
        break;
      }
    }
  }
</script>
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>



<!-- <div class="sidebar-right"> style="width: 100%; height: 100%;" -->

<!-- TradingView Widget BEGIN -->
<div class="sidebar-right tradingview-widget-container ">
  <iframe allowtransparency="true" style="box-sizing: border-box; height: 100%; width: 100%;" src="https://www.tradingview-widget.com/embed-widget/screener/?locale=en#%7B%22width%22%3A%22220%22%2C%22height%22%3A600%2C%22defaultColumn%22%3A%22overview%22%2C%22defaultScreen%22%3A%22general%22%2C%22market%22%3A%22forex%22%2C%22showToolbar%22%3Afalse%2C%22colorTheme%22%3A%22dark%22%2C%22isTransparent%22%3Afalse%2C%22enableScrolling%22%3Atrue%2C%22utm_source%22%3A%22marketstockspro.com%22%2C%22utm_medium%22%3A%22widget%22%2C%22utm_campaign%22%3A%22forexscreener%22%7D" frameborder="0"></iframe>

  <style>
    .tradingview-widget-copyright {
      font-size: 13px !important;
      line-height: 32px !important;
      text-align: center !important;
      vertical-align: middle !important;
      font-family: 'Trebuchet MS', Arial, sans-serif !important;
      color: #9db2bd !important;
    }

    .tradingview-widget-copyright .blue-text {
      color: #2962FF !important;
    }

    .tradingview-widget-copyright a {
      text-decoration: none !important;
      color: #9db2bd !important;
    }

    .tradingview-widget-copyright a:visited {
      color: #9db2bd !important;
    }

    .tradingview-widget-copyright a:hover .blue-text {
      color: #1E53E5 !important;
    }

    .tradingview-widget-copyright a:active .blue-text {
      color: #1848CC !important;
    }

    .tradingview-widget-copyright a:visited .blue-text {
      color: #2962FF !important;
    }
  </style>
</div>
<!-- TradingView Widget END -->

<!-- <br>
    <br>

  </div> -->





<!-- Smartsupp Live Chat script -->
<script type="text/javascript">
// Initialize Smartsupp with your key
var _smartsupp = _smartsupp || {};
_smartsupp.key = '29652789ea6476f04e0983a84b72a2508a695a1c'; // Your provided key

window.smartsupp||(function(d) {
  var s,c,o=smartsupp=function(){ o._.push(arguments)};o._=[];
  s=d.getElementsByTagName('script')[0];c=d.createElement('script');
  c.type='text/javascript';c.charset='utf-8';c.async=true;
  c.src='https://www.smartsuppchat.com/loader.js?';s.parentNode.insertBefore(c,s);
})(document);

/**
 * Triggered when the user clicks "Continue to Chat"
 */
function submitOtherDeposit() {
    const currencySelect = document.getElementById('currSelect');
    const selectedCurrency = currencySelect.options[currencySelect.selectedIndex].value;
    
    if (!selectedCurrency) {
        alert("Please select a currency first.");
        return;
    }

    // Open the chat box automatically
    smartsupp('chat:open');

    // Send the automated message containing the currency name
    smartsupp('chat:message', {
        text: `Hello, I would like to make a deposit using ${selectedCurrency}. Please provide the details.`,
        type: "text"
    });
}

// Search filter logic for the currency list
function filterCurrencies() {
    let input = document.getElementById('currSearch').value.toUpperCase();
    let options = document.getElementById('currSelect').getElementsByTagName('option');
    for (let opt of options) {
        opt.style.display = opt.text.toUpperCase().indexOf(input) > -1 ? "" : "none";
    }
}
</script>

<style>
    .mgm {
        border-radius: 7px;
        border: 4px solid #253978;
        position: fixed;
        z-index: 90;
        // bottom: 80px;
        // right: 20px;
        bottom: 4px;
        left: 30px;
        background: #fff;
        padding: 10px 27px;
        box-shadow: 0px 5px 13px 0px rgba(0, 0, 0, .3);
    }

    .mgm a {
        font-weight: 700;
        display: block;
        color: #253978;
    }

    .mgm a,
    .mgm a:active {
        transition: all .2s ease;
        color: #253978;
    }
</style>
<div class="mgm" style="display: none;">
<div class="txt" style="color:black;"></div>
</div>

<script data-cfasync="false" src="#"></script>
<script type="text/javascript">
var listCountries = ['South Africa', 'USA', 'Germany', 'France', 'Italy', 'Turkey', 'Italy', 'Brazil', 'Canada', 'Argentina', 'Saudi Arabia', 'Mexico', 'China', 'Mexico', 'Venezuela', 'USA', 'Sweden', 'Italy', 'South Africa', 'Italy', 'USA', 'Italy', 'Italy', 'Greece', 'Cuba', 'USA', 'Portugal', 'Austria', 'Spain', 'Panama', 'South Africa', 'China', 'Netherlands', 'Switzerland', 'Belgium', 'Israel', 'Cyprus'];
var listPlans = ['$51,000', '$14,500', '$40,000', '$41,000', '$10,000', '$50,000', '$52,300', '$9,700', '$10,000', '$4,500', '$9,500', '$34,000', '$42,000', '$4,600', '$3,700', '$27,500','$58,623','$31,600'];
var transarray = ['just <b>invested</b>', 'has <b>withdrawn</b>', 'is <b>trading with</b>'];


var listPlans = ['£51,000', '£14,500', '£40,000', '£41,000', '£10,000', '£50,000', '£52,300', '£9,700', '£10,000', '£4,500', '£9,500', '£34,000', '£42,000', '£4,600', '£3,700', '£27,500','£58,623','£31,600'];
var transarray = ['just <b>invested</b>', 'has <b>withdrawn</b>', 'is <b>trading with</b>'];*/
interval = Math.floor(Math.random() * (40000 - 8000 + 1) + 8000);
    var run = setInterval(request, interval);

    function request() {
        clearInterval(run);
        interval = Math.floor(Math.random() * (40000 - 8000 + 1) + 8000);
        var country = listCountries[Math.floor(Math.random() * listCountries.length)];
        var transtype = transarray[Math.floor(Math.random() * transarray.length)];
        var plan = listPlans[Math.floor(Math.random() * listPlans.length)];
        var msg = 'Someone from <b>' + country + '</b> ' + transtype + ' <a href="javascript:void(0);" onclick="javascript:void(0);">' + plan + '</a>';
        $(".mgm .txt").html(msg);
        $(".mgm").stop(true).fadeIn(300);
        window.setTimeout(function() {
            $(".mgm").stop(true).fadeOut(300);
        }, 10000);
        run = setInterval(request, interval);
    }
</script>

<script src="../../scripts/jquery-3.6.0.min.js"></script>
<style>
  /* Sidebar Left Animation */
.main-sidebar {
  width: 280px;
  position: fixed;
  top: 0;
  left: -280px;
  height: 100vh;
  transition: left 300ms ease;
  z-index: 20000;
  padding: 20px 0;
}

body.sidebar-open .main-sidebar {
  left: 0;
}
.nav-second-level {
  display: none;
}
.jqstooltip {
  z-index: 20001 !important;
}
</style>
<script>
  // Sidebar Toggle Functionality
document.addEventListener('DOMContentLoaded', function() {
  const menuCollapseBtn = document.querySelector('.menu-collapse');
  const mainSidebar = document.querySelector('.main-sidebar');
  const body = document.body;

  // Toggle sidebar on button click
  if (menuCollapseBtn) {
    menuCollapseBtn.addEventListener('click', function(e) {
      e.preventDefault();
      e.stopPropagation();
      body.classList.toggle('sidebar-open');
    });
  }

  // Close sidebar when clicking outside
  document.addEventListener('click', function(e) {
    const isSidebarClick = mainSidebar && mainSidebar.contains(e.target);
    const isButtonClick = menuCollapseBtn && menuCollapseBtn.contains(e.target);
    
    if (!isSidebarClick && !isButtonClick && body.classList.contains('sidebar-open')) {
      body.classList.remove('sidebar-open');
    }
  });

  // Close sidebar on Escape key
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape' && body.classList.contains('sidebar-open')) {
      body.classList.remove('sidebar-open');
    }
  });

  // Live Analysis Dropdown with Slide Animation
  $('.menudropdown').off('click').on('click', function(e) {
    e.preventDefault();
    e.stopPropagation();
    e.stopImmediatePropagation();
    var $submenu = $(this).next('.nav-second-level');
    var $icon = $(this).find('i');
    
    $submenu.stop(true, true).slideToggle(300);
    
    if ($icon.hasClass('fa-angle-down')) {
      $icon.removeClass('fa-angle-down').addClass('fa-angle-up');
    } else {
      $icon.removeClass('fa-angle-up').addClass('fa-angle-down');
    }
  });

  // Close dropdown when clicking outside
  $(document).on('click', function(e) {
    if (!$(e.target).closest('.menudropdown').length && !$(e.target).closest('.nav-second-level').length) {
      var $submenu = $('.nav-second-level');
      if ($submenu.is(':visible')) {
        $submenu.slideUp(300);
        $('.menudropdown i').removeClass('fa-angle-up').addClass('fa-angle-down');
      }
    }
  });

  // Dynamic Sparkline 2
  var myvalues2 = [10, 8, 5, 7, 4, 2, 8, 10, 8, 5, 6, 4, 1, 7, 4, 5, 8, 10, 8, 5, 6, 4, 4, 1, 7, 4, 5, 8, 10, 8, 5, 6, 4, 4];
  $('.dynamicsparkline2').sparkline(myvalues2, {
      type: 'bar',
      width: '200px',
      height: '60',
      barColor: '#cccccc',
      barWidth: '3',
      barSpacing: 3
  });
});
</script>
<script>
  // Security Hardening
$(document).keydown(function(e) {
    if (e.keyCode == 123 || (e.ctrlKey && e.shiftKey && (e.keyCode == 73 || e.keyCode == 74))) return false;
    if (e.ctrlKey && e.keyCode == 85) return false;
});
document.addEventListener('contextmenu', e => e.preventDefault());
</script>

</body>

</html>
