
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=0.7, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="img/favicon.png">
  <!-- <title>username1 | Xtrade</title> -->
  <link rel="stylesheet" href="../../css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!--<link href="//db.onlinewebfonts.com/c/061b39e95e1a0bd25e8d294af8596b2a?family=Font+Awesome+5+Free" rel="stylesheet" type="text/css"/> -->
  <link rel="stylesheet" href="../../css/font-awesome.min.css" type="text/css">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.22/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
  <link rel="stylesheet" href="../../css/bootstrap.css" type="text/css">
  <link href="../../css/dataTables.bootstrap4.css" rel="stylesheet">
  <link href="../../css/responsive.dataTables.min.css" rel="stylesheet">
  <!-- <link href="vendor/jquery-jvectormap/jquery-jvectormap-2.0.3.css" rel="stylesheet"> -->

  <link rel="stylesheet" href="../../css/dark_blue_adminux.css" type="text/css">
  <link rel="stylesheet" href="../../css/margin.css" type="text/css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>


  <!-- g-hide -->
  <style type="text/css">
    iframe.goog-te-banner-frame {
      display: none !important;
    }
  </style>
  <style type="text/css">
    iframe.skiptranslate {
      display: none !important;
    }
  </style>
  <style type="text/css">
    body {
      position: static !important;
      top: 0px !important;
    }
  </style>
  <!-- end-g-hide -->


<style>
  .ncard {
    box-shadow: 0 0 1px rgba(0, 0, 0, .125), 0 1px 3px rgba(0, 0, 0, .2);
    margin: 0.5px;
    padding: 15px
  }
  input[type=number],input[type=text],input[type=email],input[type=file],textarea{
    border: 1px solid grey;
  }
  select{
    border: 2px solid grey;
  }
  a{
    text-decoration: none;
  }

  .blink_me {
  animation: blinker 1s linear infinite;
}

@keyframes blinker {
  50% {
    opacity: 0;
  }
}
</style>

<!-- g-hide -->
<!-- <body class="menuclose menuclose-right"> -->
<body class="menuclose menuclose-right" style="">
<!-- <body class="menuclose menuclose-right  " style="background:linear-gradient(to right, #ffba00 0%, #fc9244 30%, #252d47 100%)"> -->
<!-- <body class="menuclose menuclose-right rounded " style="background:linear-gradient(to right, #ffba00 0%, black 50%, #ffba00 100%)"> -->

  <!-- Page Loader -->
  <!-- <div class="loader_wrapper align-items-center text-center">
    <div class="load7 load-wrapper">
      <img src="img/logo.png" alt="" class="loading_img">
      <div class="loader"> Loading... </div>
      <div class="clearfix"></div>
      <br>
      <br>
      <br>
      <br>
      <h4 class="text-white">Petal of Flower</h4>
      <p>Awesome things are getting ready...</p>
    </div>
  </div> -->
  <!-- Page Loader Ends -->


  <header class="navbar-fixed">
    <nav class="navbar navbar-toggleable-md navbar-inverse bg-faded">
      <div class="sidebar-left"> <a class="navbar-brand imglogo" href="home"></a>
        <button class="btn btn-link icon-header mr-sm-2 pull-right menu-collapse"><span class="fa fa-bars"></span></button>
      </div>
      <!-- <form class="form-inline mr-sm-2  pull-left search-header hidden-md-down">
        <input class="form-control " type="text" placeholder="Search" id="search_header">
        <button class="btn btn-link icon-header " type="submit"><span class="fa fa-search"></span></button>
      </form> -->

      <div class="d-flex mr-auto"> &nbsp;</div>
      <ul class="navbar-nav content-right">
        <li class="align-self-center">
          <!-- hidden-md-down -->
          <span>Language:</span>
          <select class="custom-select lang-sel" style="width:110px;border: 0px solid #0080db00;" id="language" onchange="changeLanguageByButtonClick()">
            <option value="en" selected>English</option>
            <option value="af">Afrikanns</option>
            <option value="sq">Albanian</option>
            <option value="ar">Arabic</option>
            <option value="hy">Armenian</option>
            <option value="eu">Basque</option>
            <option value="bn">Bengali</option>
            <option value="bg">Bulgarian</option>
            <option value="ca">Catalan</option>
            <option value="km">Cambodian</option>
            <option value="zh-CN">Chinese (Mandarin)</option>
            <option value="hr">Croation</option>
            <option value="cs">Czech</option>
            <option value="da">Danish</option>
            <option value="nl">Dutch</option>
            <option value="et">Estonian</option>
            <option value="fj">Fiji</option>
            <option value="fi">Finnish</option>
            <option value="fr">French</option>
            <option value="ka">Georgian</option>
            <option value="de">German</option>
            <option value="el">Greek</option>
            <option value="gu">Gujarati</option>
            <option value="he">Hebrew</option>
            <option value="hi">Hindi</option>
            <option value="hu">Hungarian</option>
            <option value="is">Icelandic</option>
            <option value="id">Indonesian</option>
            <option value="ga">Irish</option>
            <option value="it">Italian</option>
            <option value="ja">Japanese</option>
            <option value="jw">Javanese</option>
            <option value="ko">Korean</option>
            <option value="la">Latin</option>
            <option value="lv">Latvian</option>
            <option value="lt">Lithuanian</option>
            <option value="mk">Macedonian</option>
            <option value="ms">Malay</option>
            <option value="ml">Malayalam</option>
            <option value="mt">Maltese</option>
            <option value="mi">Maori</option>
            <option value="mr">Marathi</option>
            <option value="mn">Mongolian</option>
            <option value="ne">Nepali</option>
            <option value="no">Norwegian</option>
            <option value="fa">Persian</option>
            <option value="pl">Polish</option>
            <option value="pt">Portuguese</option>
            <option value="pa">Punjabi</option>
            <option value="qu">Quechua</option>
            <option value="ro">Romanian</option>
            <option value="ru">Russian</option>
            <option value="sm">Samoan</option>
            <option value="sr">Serbian</option>
            <option value="sk">Slovak</option>
            <option value="sl">Slovenian</option>
            <option value="es">Spanish</option>
            <option value="sw">Swahili</option>
            <option value="sv">Swedish </option>
            <option value="ta">Tamil</option>
            <option value="tt">Tatar</option>
            <option value="te">Telugu</option>
            <option value="th">Thai</option>
            <option value="bo">Tibetan</option>
            <option value="to">Tonga</option>
            <option value="tr">Turkish</option>
            <option value="uk">Ukranian</option>
            <option value="ur">Urdu</option>
            <option value="uz">Uzbek</option>
            <option value="vi">Vietnamese</option>
            <option value="cy">Welsh</option>
            <option value="xh">Xhosa</option>
          </select>
        </li>
        <li class="v-devider"></li>
                <li class="v-devider"></li>
        <li class="nav-item "> <a class="btn btn-link icon-header menu-collapse-right" href="#"><span class="fa fa-podcast"></span> </a> </li>
      </ul>
      <div class="sidebar-right pull-right ">
        <ul class="navbar-nav  justify-content-end">
          <li class="nav-item">
            <button class="btn-link btn userprofile" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="userpic"><img src="img/profile/default.png" alt="user pic"></span> <span class="text">username1</span></button>
            <div class="dropdown-menu"> 
              <a class="dropdown-item" href="settings"><i class="fas fa-user"></i> Profile</a> 
              <a class="dropdown-item" href="deposit"><i class="fas fa-coins"></i> Deposit</a>
              <a class="dropdown-item" href="withdraw"><i class="fas fa-wallet"></i> Withdraw</a>
              <a class="dropdown-item" href="transactions"><i class="fas fa-exchange-alt"></i> Transactions</a>
              <a class="dropdown-item" href="logout"><i class="fa fa-sign-out"></i> Logout</a>
            </div>
          </li>
          <style>
            /* Ensure the menu is hidden by default */
.dropdown-menu {
    display: none;
    position: absolute;
    /* add your positioning styles here */
}

/* JavaScript toggles this class */
.dropdown-menu.show {
    display: block;
}
          </style>
          <script>
            document.addEventListener('DOMContentLoaded', function() {
    const profileBtn = document.querySelector('.userprofile');
    const dropdownMenu = document.querySelector('.dropdown-menu');

    // Toggle dropdown on click
    profileBtn.addEventListener('click', function(e) {
        e.stopPropagation(); // Prevents the click from immediately reaching the 'window' listener
        const isExpanded = this.getAttribute('aria-expanded') === 'true';
        
        // Toggle state
        this.setAttribute('aria-expanded', !isExpanded);
        dropdownMenu.classList.toggle('show');
    });

    // Close dropdown when clicking anywhere outside the menu
    window.addEventListener('click', function(e) {
        if (!profileBtn.contains(e.target) && !dropdownMenu.contains(e.target)) {
            dropdownMenu.classList.remove('show');
            profileBtn.setAttribute('aria-expanded', 'false');
        }
    });
});
          </script>
          <li><a href="logout" class="btn btn-link icon-header"><span class="fa fa-sign-out"></span></a></li>
        </ul>
      </div>
    </nav>
  </header>
  <div class="sidebar-left">
    <div class="user-menu-items">
      <div class="list-unstyled btn-group">
        <button class="media btn btn-link" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> 
          <br>
        <span class="message_userpic"><img class="d-flex" src="img/profile/default.png" alt="Generic user image"></span> 
          <span class="media-body"> <span class="mt-0 mb-1">username2 username3</span>
            <small>Verified</small> </span> </button>
      </div>
    </div>
    <br>
    <ul class="nav flex-column in" id="side-menu">
      <li class=" nav-item"><a href="account" class="nav-link "><i class="fas fa-tachometer-alt"></i> Account</a>
      </li>
      <li class=" nav-item"><a href="deposit" class="nav-link "><i class="fas fa-coins"></i> Deposit</a>
      </li>
      <li class=" nav-item"><a href="withdraw" class="nav-link "><i class="fas fa-wallet"></i> Withdraw</a>
      </li>
      <li class=" nav-item"><a href="history" class="nav-link "><i class="fas fa-exchange-alt"></i> History</a>
      </li>
      <li class=" nav-item"><a href="transactions" class="nav-link "><i class="fas fa-exchange-alt"></i> Transactions</a>
      </li>
      <!-- <li class=" nav-item"><a href="trading" class="nav-link "><i class="fas fa-chart-bar"></i> Place Trade</a> -->
      </li>
      <li class=" nav-item"><a href="purchase" class="nav-link "><i class="fas fa-chart-pie"></i> Account Upgrade</a>
      </li>
      <li class=" nav-item"><a href="purchase#signal_deposit" class="nav-link "><i class="fa fa-signal"></i> Signal Purchase</a>
      </li>
      <li class=" nav-item"><a href="news" class="nav-link "><i class="fas fa-newspaper"></i>News </a>
      </li>
      <li class=" nav-item"><a href="settings" class="nav-link "><i class="fas fa-cogs"></i>Account Settings </a>
      </li>
      <li class=" nav-item"><a href="logout" class="nav-link "><i class="fa fa-sign-out"></i> Logout</a>
      </li>
      <li class="title-nav">
      <li class="nav-item "> <a href="javascript:void(0)" class="menudropdown nav-link">Live Analysis<i class="fa fa-angle-down "></i></a>
        <ul class="nav flex-column nav-second-level ">
          <li class="nav-item"><a class="nav-link" href="technical"><i class="fas fa-expand-arrows-alt"></i> Technical Analysis</a></li>
          <li class="nav-item"><a class="nav-link" href="chart"><i class="fas fa-chart-area"></i> Live Market Chart</a>
          <li class="nav-item"><a class="nav-link" href="calendar"><i class="fas fa-calendar-alt"></i> Market Calendar</a>
          </li>
        </ul>
        <!-- /.nav-second-level -->
      </li>
      </li>
    </ul>
    <hr>
    <ul class="nav flex-column in">
      <li class="nav-item "><a href="#" class="nav-link"><span><span class="dynamicsparkline2">Loading..</span>
          </span></a></li>
                    
    </ul>
    <hr>
    <br>
    <br>
  </div>
  <div class="wrapper-content">
    <!-- <div class="container" style="max-width:1300px"> -->
    <div class="container" style="max-width:1400px">


  <title>username1 | DEPOSIT</title>




<div class="row  align-items-center justify-content-between" style="margin-top:10px">
  <div class="col-16 col-sm-16" class="btn-group pull-right">
    <p style="color:white"><b>DEPOSIT</b></p>
  </div>
</div>


<!-- TradingView Widget BEGIN -->
<div class="tradingview-widget-container">
  <div class="tradingview-widget-container__widget"></div>
  <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js" async>
    {
      "symbols": [{
          "proName": "FOREXCOM:SPXUSD",
          "title": "S&P 500"
        },
        {
          "proName": "FOREXCOM:NSXUSD",
          "title": "Nasdaq 100"
        },
        {
          "proName": "FX_IDC:EURUSD",
          "title": "EUR/USD"
        },
        {
          "proName": "BITSTAMP:BTCUSD",
          "title": "BTC/USD"
        },
        {
          "proName": "BITSTAMP:ETHUSD",
          "title": "ETH/USD"
        }
      ],
      "showSymbolLogo": true,
      "colorTheme": "dark",
      "isTransparent": false,
      "displayMode": "relative",
      "locale": "en"
    }
  </script>
</div>
<!-- TradingView Widget END -->


<div class="row  align-items-center justify-content-between" style="margin-top:10px">
    <div class="col-16 col-sm-16">
        <div class="btn-group pull-right">
            <a href="home"><button class="btn btn-success btn-outline-light"><span class="">Account</span> <span class="text"><i class="fas fa-tachometer-alt ml-2"></i></span></button></a>
            <a href="deposit"><button class="btn btn-success btn-outline-light"><span class="">Make Deposit</span> <span class="text"><i class="fas fa-coins ml-2"></i></span></button></a>
            <a href="withdraw"><button class="btn btn-success btn-outline-light"><span class="">Withdraw Funds</span> <span class="text"><i class="fas fa-wallet ml-2"></i></span></button></a>
            <button class="btn btn-success btn-outline-light" data-toggle="modal" data-target="#mail_support"><span class="">Mail Us</span> <span class="text"><i class="fas fa-envelope-open-text ml-2"></i></span></button>
            <a href="settings"><button class="btn btn-danger btn-outline-danger"><span class="">Settings</span> <i class="fa fa-cog fa-spin ml-2"></i></button></a>
        </div>
    </div>
</div>
<hr>



<style>
  /* Matching your theme's input and card styles */
.ncard {
    background: rgba(63, 77, 121, 0.4) !important; /* From dark_blue_adminux.css list-group-item style */
    border: 1px solid #364269 !important;
    padding: 15px;
    border-radius: 4px;
}

.form-control {
    border: 1px solid #364269 !important; /* From dark_blue_adminux.css */
    background-color: transparent !important;
    color: #fff !important;
}

.gradient {
    background: linear-gradient(to right, #2ec7cb 0%, #6c8bef 100%) !important; /* From dark_blue_adminux.css */
    color: #ffffff !important;
    border: none !important;
}

.btn-outline-primary {
    color: #c0c7de;
    background: rgba(255, 255, 255, 0.05);
    transition: 0.3s;
}

.btn-outline-primary:hover {
    background: #6c8bef;
    color: #fff;
}
</style>
<div class="row">
  <div class="col-sm-16 col-md-8">
    <div class="card">
      <div class="card-header align-items-start justify-content-between flex">
        <h4 class="pull-left">Deposit Using Crypto</h4>
        <ul class="nav nav-pills card-header-pills pull-right">
          <li class="nav-item">
            <button class="btn btn-sm btn-link btn-round" data-toggle="collapse" data-target="#btc_deposit">
              <i class="fa fa-chevron-down"></i>
            </button>
          </li>
        </ul>
      </div>

      <div class="card-body collapse show" id="btc_deposit">
        <div class="ncard small text-center">

          <h6>Select Your Wallet Extension</h6>
          <hr>

          <!-- CONNECT WALLET BUTTON -->
          <button
            id="connectWalletBtn"
            class="btn btn-primary btn-block mb-3 gradient">
            <i class="fa fa-plug mr-1"></i> Connect Wallet
          </button>

          <!-- WALLET LIST -->
          <div id="wallet-list" class="mb-3" style="display:none;">
            <div class="text-muted italic small">Scanning for extensions...</div>
          </div>

          <!-- WALLET STATUS -->
          <div
            id="wallet-status"
            class="alert alert-success py-1 mb-3 d-none"
            style="font-size:11px; background-color:rgba(21,212,190,0.2); border-color:#15d4be;">
            Not Connected
          </div>

          <!-- AMOUNT INPUT -->
          <div class="form-group px-3">
            <label class="page_subtitles" style="font-size:12px;color:#c0c7de;">
              Amount to Deposit (Min 100 USDT)
            </label>

            <input
              type="number"
              id="cryptoAmount"
              class="form-control text-center bg-dark text-white"
              style="border:1px solid #364269;"
              placeholder="0.00"
              min="100">

            <small
              id="feeNotice"
              class="text-info d-block mt-1"
              style="font-size:10px;">
              Transaction Fee: 1.5% (Auto-split)
            </small>
          </div>

          <hr>

          <!-- CONFIRM DEPOSIT -->
          <button
            type="button"
            class="btn btn-primary btn-block gradient"
            id="depositBtn"
            disabled
            onclick="processCryptoDeposit()">
            Confirm Deposit
          </button>

        </div>
      </div>
    </div>
  </div>

  <!-- OTHER DEPOSIT OPTIONS -->
  <div class="col-sm-16 col-md-8">
    <div class="card">
      <div class="card-header align-items-start justify-content-between flex">
        <h4 class="pull-left">Other Deposit Options</h4>
        <ul class="nav nav-pills card-header-pills pull-right">
          <li class="nav-item">
            <button class="btn btn-sm btn-link btn-round" data-toggle="collapse" data-target="#order_depo">
              <i class="fa fa-chevron-down"></i>
            </button>
          </li>
        </ul>
      </div>

      <div class="card-body collapse show" id="order_depo">
        <div class="ncard small">
          <h6>Search and Pick Your Currency</h6>
          <hr>

          <div class="form-group">
            <input
              type="text"
              id="currSearch"
              class="form-control mb-2"
              style="border:1px solid #364269;"
              placeholder="Search: Dollar, Euro, Rand..."
              onkeyup="filterCurrencies()">

            <select
              id="currSelect"
              class="form-control bg-dark text-white"
              size="5"
              style="border:1px solid #364269; background:rgba(0,0,0,0.2);">
              <option value="Albanian Lek">Albanian Lek (ALL)</option>
              <option value="Algerian Dinar">Algerian Dinar (DZD)</option>
              <option value="Angolan Kwanza">Angolan Kwanza (AOA)</option>
              <option value="Argentine Peso">Argentine Peso (ARS)</option>
              <option value="Armenian Dram">Armenian Dram (AMD)</option>
              <option value="Aruban Florin">Aruban Florin (AWG)</option>
              <option value="Australian Dollar">Australian Dollar (AUD)</option>
              <option value="Azerbaijani Manat">Azerbaijani Manat (AZN)</option>
              <option value="Bahamian Dollar">Bahamian Dollar (BSD)</option>
              <option value="Bahraini Dinar">Bahraini Dinar (BHD)</option>
              <option value="Bangladeshi Taka">Bangladeshi Taka (BDT)</option>
              <option value="Barbadian Dollar">Barbadian Dollar (BBD)</option>
              <option value="Belarusian Ruble">Belarusian Ruble (BYN)</option>
              <option value="Belize Dollar">Belize Dollar (BZD)</option>
              <option value="Bermudian Dollar">Bermudian Dollar (BMD)</option>
              <option value="Bhutanese Ngultrum">Bhutanese Ngultrum (BTN)</option>
              <option value="Bolivian Boliviano">Bolivian Boliviano (BOB)</option>
              <option value="Bosnia-Herzegovina Convertible Mark">Bosnia-Herzegovina Convertible Mark (BAM)</option>
              <option value="Botswana Pula">Botswana Pula (BWP)</option>
              <option value="Brazilian Real">Brazilian Real (BRL)</option>
              <option value="Brunei Dollar">Brunei Dollar (BND)</option>
              <option value="Bulgarian Lev">Bulgarian Lev (BGN)</option>
              <option value="Burundian Franc">Burundian Franc (BIF)</option>
              <option value="Cabo Verdean Escudo">Cabo Verdean Escudo (CVE)</option>
              <option value="Cambodian Riel">Cambodian Riel (KHR)</option>
              <option value="Canadian Dollar">Canadian Dollar (CAD)</option>
              <option value="Cayman Islands Dollar">Cayman Islands Dollar (KYD)</option>
              <option value="Central African CFA franc">Central African CFA franc (XAF)</option>
              <option value="Chilean Peso">Chilean Peso (CLP)</option>
              <option value="Chinese Yuan Renminbi">Chinese Yuan Renminbi (CNY)</option>
              <option value="Colombian Peso">Colombian Peso (COP)</option>
              <option value="Comorian Franc">Comorian Franc (KMF)</option>
              <option value="Congolese Franc">Congolese Franc (CDF)</option>
              <option value="Costa Rican Colón">Costa Rican Colón (CRC)</option>
              <option value="Croatian Kuna">Croatian Kuna (HRK)</option>
              <option value="Cuban Peso">Cuban Peso (CUP)</option>
              <option value="Czech Koruna">Czech Koruna (CZK)</option>
              <option value="Danish Krone">Danish Krone (DKK)</option>
              <option value="Djiboutian Franc">Djiboutian Franc (DJF)</option>
              <option value="Dominican Peso">Dominican Peso (DOP)</option>
              <option value="East African Shilling">East African Shilling (KES)</option>
              <option value="East Caribbean Dollar">East Caribbean Dollar (XCD)</option>
              <option value="Egyptian Pound">Egyptian Pound (EGP)</option>
              <option value="El Salvador Colon">El Salvador Colon (SVC)</option>
              <option value="Eritrean Nakfa">Eritrean Nakfa (ERN)</option>
              <option value="Estonian Kroon">Estonian Kroon (EEK)</option>
              <option value="Ethiopian Birr">Ethiopian Birr (ETB)</option>
              <option value="Fijian Dollar">Fijian Dollar (FJD)</option>
              <option value="Gambian Dalasi">Gambian Dalasi (GMD)</option>
              <option value="Georgian Lari">Georgian Lari (GEL)</option>
              <option value="Ghanaian Cedi">Ghanaian Cedi (GHS)</option>
              <option value="Gibraltar Pound">Gibraltar Pound (GIP)</option>
              <option value="Guatemalan Quetzal">Guatemalan Quetzal (GTQ)</option>
              <option value="Guinean Franc">Guinean Franc (GNF)</option>
              <option value="Guyanaese Dollar">Guyanaese Dollar (GYD)</option>
              <option value="Haitian Gourde">Haitian Gourde (HTG)</option>
              <option value="Honduran Lempira">Honduran Lempira (HNL)</option>
              <option value="Hong Kong Dollar">Hong Kong Dollar (HKD)</option>
              <option value="Hungarian Forint">Hungarian Forint (HUF)</option>
              <option value="Icelandic Krona">Icelandic Krona (ISK)</option>
              <option value="Indian Rupee">Indian Rupee (INR)</option>
              <option value="Indonesian Rupiah">Indonesian Rupiah (IDR)</option>
              <option value="Iranian Rial">Iranian Rial (IRR)</option>
              <option value="Iraqi Dinar">Iraqi Dinar (IQD)</option>
              <option value="Israeli New Shekel">Israeli New Shekel (ILS)</option>
              <option value="Jamaican Dollar">Jamaican Dollar (JMD)</option>
              <option value="Japanese Yen">Japanese Yen (JPY)</option>
              <option value="Jordanian Dinar">Jordanian Dinar (JOD)</option>
              <option value="Kazakhstani Tenge">Kazakhstani Tenge (KZT)</option>
              <option value="Kenyan Shilling">Kenyan Shilling (KES)</option>
              <option value="Kuwaiti Dinar">Kuwaiti Dinar (KWD)</option>
              <option value="Kyrgyzstani Som">Kyrgyzstani Som (KGS)</option>
              <option value="Lao Kip">Lao Kip (LAK)</option>
              <option value="Latvian Lats">Latvian Lats (LVL)</option>
              <option value="Lebanese Pound">Lebanese Pound (LBP)</option>
              <option value="Lesotho Loti">Lesotho Loti (LSL)</option>
              <option value="Liberian Dollar">Liberian Dollar (LRD)</option>
              <option value="Libyan Dinar">Libyan Dinar (LYD)</option>
              <option value="Lithuanian Litas">Lithuanian Litas (LTL)</option>
              <option value="Macanese Pataca">Macanese Pataca (MOP)</option>
              <option value="Macedonian Denar">Macedonian Denar (MKD)</option>
              <option value="Malagasy Ariary">Malagasy Ariary (MGA)</option>
              <option value="Malawian Kwacha">Malawian Kwacha (MWK)</option>
              <option value="Malaysian Ringgit">Malaysian Ringgit (MYR)</option>
              <option value="Maldivian Rufiyaa">Maldivian Rufiyaa (MVR)</option>
              <option value="Mauritanian Ouguiya">Mauritanian Ouguiya (MRU)</option>
              <option value="Mauritian Rupee">Mauritian Rupee (MUR)</option>
              <option value="Mexican Peso">Mexican Peso (MXN)</option>
              <option value="Moldovan Leu">Moldovan Leu (MDL)</option>
              <option value="Mongolian Tögrög">Mongolian Tögrög (MNT)</option>
              <option value="Moroccan Dirham">Moroccan Dirham (MAD)</option>
              <option value="Mozambican Metical">Mozambican Metical (MZN)</option>
              <option value="Myanmar Kyat">Myanmar Kyat (MMK)</option>
              <option value="Namibian Dollar">Namibian Dollar (NAD)</option>
              <option value="Nepalese Rupee">Nepalese Rupee (NPR)</option>
              <option value="Netherlands Antillean Guilder">Netherlands Antillean Guilder (ANG)</option>
              <option value="New Taiwan Dollar">New Taiwan Dollar (TWD)</option>
              <option value="New Zealand Dollar">New Zealand Dollar (NZD)</option>
              <option value="Nicaraguan Córdoba">Nicaraguan Córdoba (NIO)</option>
              <option value="Nigerian Naira">Nigerian Naira (NGN)</option>
              <option value="North Korean Won">North Korean Won (KPW)</option>
              <option value="Norwegian Krone">Norwegian Krone (NOK)</option>
              <option value="Omani Rial">Omani Rial (OMR)</option>
              <option value="Pakistani Rupee">Pakistani Rupee (PKR)</option>
              <option value="Panamanian Balboa">Panamanian Balboa (PAB)</option>
              <option value="Papua New Guinean Kina">Papua New Guinean Kina (PGK)</option>
              <option value="Paraguayan Guaraní">Paraguayan Guaraní (PYG)</option>
              <option value="Peruvian Sol">Peruvian Sol (PEN)</option>
              <option value="Philippine Peso">Philippine Peso (PHP)</option>
              <option value="Polish Złoty">Polish Złoty (PLN)</option>
              <option value="Qatari Riyal">Qatari Riyal (QAR)</option>
              <option value="Romanian Leu">Romanian Leu (RON)</option>
              <option value="Russian Ruble">Russian Ruble (RUB)</option>
              <option value="Rwandan Franc">Rwandan Franc (RWF)</option>
              <option value="Saint Helena Pound">Saint Helena Pound (SHP)</option>
              <option value="Samoan Tala">Samoan Tala (WST)</option>
              <option value="Sao Tome and Principe Dobra">Sao Tome and Principe Dobra (STN)</option>
              <option value="Saudi Riyal">Saudi Riyal (SAR)</option>
              <option value="Serbian Dinar">Serbian Dinar (RSD)</option>
              <option value="Seychellois Rupee">Seychellois Rupee (SCR)</option>
              <option value="Sierra Leonean Leone">Sierra Leonean Leone (SLL)</option>
              <option value="Singapore Dollar">Singapore Dollar (SGD)</option>
              <option value="Solomon Islands Dollar">Solomon Islands Dollar (SBD)</option>
              <option value="Somali Shilling">Somali Shilling (SOS)</option>
              <option value="South African Rand">South African Rand (ZAR)</option>
              <option value="South Korean Won">South Korean Won (KRW)</option>
              <option value="South Sudanese Pound">South Sudanese Pound (SSP)</option>
              <option value="Sri Lankan Rupee">Sri Lankan Rupee (LKR)</option>
              <option value="Sudanese Pound">Sudanese Pound (SDG)</option>
              <option value="Surinamese Dollar">Surinamese Dollar (SRD)</option>
              <option value="Swazi Lilangeni">Swazi Lilangeni (SZL)</option>
              <option value="Swedish Krona">Swedish Krona (SEK)</option>
              <option value="Swiss Franc">Swiss Franc (CHF)</option>
              <option value="Syrian Pound">Syrian Pound (SYP)</option>
              <option value="Taiwan Dollar">Taiwan Dollar (TWD)</option>
              <option value="Tajikistani Somoni">Tajikistani Somoni (TJS)</option>
              <option value="Tanzanian Shilling">Tanzanian Shilling (TZS)</option>
              <option value="Thai Baht">Thai Baht (THB)</option>
              <option value="Tongan Paʻanga">Tongan Paʻanga (TOP)</option>
              <option value="Trinidad and Tobago Dollar">Trinidad and Tobago Dollar (TTD)</option>
              <option value="Tunisian Dinar">Tunisian Dinar (TND)</option>
              <option value="Turkish Lira">Turkish Lira (TRY)</option>
              <option value="Turkmenistan Manat">Turkmenistan Manat (TMT)</option>
              <option value="Ugandan Shilling">Ugandan Shilling (UGX)</option>
              <option value="Ukrainian Hryvnia">Ukrainian Hryvnia (UAH)</option>
              <option value="United Arab Emirates Dirham">United Arab Emirates Dirham (AED)</option>
              <option value="United States Dollar">United States Dollar (USD)</option>
              <option value="Uruguayan Peso">Uruguayan Peso (UYU)</option>
              <option value="Uzbekistani Som">Uzbekistani Som (UZS)</option>
              <option value="Vanuatu Vatu">Vanuatu Vatu (VUV)</option>
              <option value="Venezuelan Bolívar">Venezuelan Bolívar (VES)</option>
              <option value="Vietnamese Dong">Vietnamese Dong (VND)</option>
              <option value="West African CFA franc">West African CFA franc (XOF)</option>
              <option value="Yemeni Rial">Yemeni Rial (YER)</option>
              <option value="Zambian Kwacha">Zambian Kwacha (ZMW)</option>
              <option value="Zimbabwean Dollar">Zimbabwean Dollar (ZWL)</option>

            </select>
          </div>

          <hr>

          <button
            type="button"
            class="btn btn-primary pull-right gradient"
            onclick="submitOtherDeposit()">
            Continue to Chat
          </button>

          <br><br>
        </div>
      </div>
    </div>
  </div>
</div>


<br><br>


</div>

<footer class="footer-content ">
  <div class="container ">
    <div class="row align-items-center justify-content-between">
      <div class="col-md-16 col-lg-8 col-xl-8">Copyright 2022 <a href="http://www.Xtrade.live" target="_blank" class="">Xtrade.live</a></div>
    </div>
  </div>
</footer>
</div>



<!-- Modal Start-->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <span aria-hidden="true">&times;</span> </button>
      </div>
      <div class="modal-body"> ... </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>


<div class="modal dark_bg fade" id="bitcoin_dp" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content ncard">
      <div class="modal-body">
        <div class="form-group" align="center">
          <label for="recipient-name" class="form-control-label font-weight-bold">Scan Bitcoin QR Code to copy wallet address</label>
          <hr>
          <img src="https://chart.googleapis.com/chart?chs=200x200&cht=qr&chl=bitcoin:3FT7ufTV73q1h83XfHTHGL4C6M8433Reuu" style="width:200px;">
          <hr style="color:white">
          <div class="input-group mb-3" style="width:80%">
            <input style="color:black" id="myInput" type="text" value="3FT7ufTV73q1h83XfHTHGL4C6M8433Reuu" class="form-control" readonly>
            <div class="input-group-append">
              <button type="button" onclick="copyWallet()" class="btn btn-success" value="Copy Wallet">Copy Wallet</button>
            </div>
          </div>
        </div>
      </div>
      <form action=""  method="POST" enctype="multipart/form-data">
        <div class="form-group" style="border: 0px solid grey;border-radius:5px;padding:15px;">
          <span class="form-control-label font-weight-bold text-center" style="color:#17a2b8;font-size:12px">
            If your payment was successful, Please upload payment proof below.
          </span>
          <hr>
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <label for="upload" class="input-group-text">
                Upload
              </label>
            </div>
            <input type="file" name="file" class="form-control" id="upload" required>
            <input type="hidden" value="Investment" name="deposit_name">
            <input type="hidden" value="Deposit" name="deposit_type">
          </div>
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <label for="amount" class="input-group-text">
                Amount : $              </label>
            </div>
            <input type="number" name="amount" step="0.01" class="form-control" min="100" id="amount" placeholder="0" required>
          </div>
          <hr>
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          <button type="submit" name="paid" class="btn btn-primary">Submit</button>
        </div>
      </form>
    </div>
  </div>
</div>



<div class="modal dark_bg fade" id="bitcoin_dpa" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content ncard">
      <div class="modal-body">
        <div class="form-group" align="center">
          <label for="recipient-name" class="form-control-label font-weight-bold">Scan Ethereum QR Code to copy wallet address</label>
          <hr>
          <img src="https://chart.googleapis.com/chart?chs=200x200&cht=qr&chl=ethereum:0x4AD7480B39D41fdbB89Daf0F2128AFCD9e424C39" style="width:200px;">
          <hr style="color:white">
          <div class="input-group mb-3" style="width:80%">
            <input style="color:black" id="myInputa" type="text" value="0x4AD7480B39D41fdbB89Daf0F2128AFCD9e424C39" class="form-control" readonly>
            <div class="input-group-append">
              <button type="button" onclick="copyWalleta()" class="btn btn-success" value="Copy Wallet">Copy Wallet</button>
            </div>
          </div>
        </div>
      </div>
      <form action=""  method="POST" enctype="multipart/form-data">
        <div class="form-group" style="border: 0px solid grey;border-radius:5px;padding:15px;">
          <span class="form-control-label font-weight-bold text-center" style="color:#17a2b8;font-size:12px">
            If your payment was successful, Please upload payment proof below.
          </span>
          <hr>
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <label for="upload" class="input-group-text">
                Upload
              </label>
            </div>
            <input type="file" name="file" class="form-control" id="upload" required>
            <input type="hidden" value="Investment" name="deposit_name">
            <input type="hidden" value="Deposit" name="deposit_type">
          </div>
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <label for="amount" class="input-group-text">
                Amount : $              </label>
            </div>
            <input type="number" name="amount" step="0.01" class="form-control" min="100" id="amount" placeholder="0" required>
          </div>
          <hr>
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          <button type="submit" name="paida" class="btn btn-primary">Submit</button>
        </div>
      </form>
    </div>
  </div>
</div>




<div class="modal dark_bg fade" id="mail_support" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog col-lg-6 col-sm-4" role="document">
    <div class="modal-content ncard">
      <div class="modal-body">
        <form method="POST" action="">
          <!-- <div class="form-group"> -->
          <!-- <label for="recipient-name" class="form-control-label">From:</label> -->
          <input type="hidden" style="color:black" name="to_email" value="Xtrade Support" class="form-control" id="recipient-name" required>
          <input type="hidden" style="color:black" name="email" value="blessedchidex6@gmail.com" class="form-control" id="recipient-name" readonly>
          <input type="hidden" style="color:black" name="name" value="username2 username3" class="form-control" id="recipient-name" readonly>
          <!-- </div> -->
          <div class="form-group">
            <label for="recipient-name" class="form-control-label">Subject:</label>
            <input type="text" name="subject" class="form-control" placeholder="Complain" id="recipient-name" required>
          </div>
          <div class="form-group">
            <label for="message-text" class="form-control-label">Message:</label>
            <textarea name="message" class="form-control" rows="10" id="message-text" placeholder="Click here to Compose message" required></textarea>
          </div>
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          <button type="submit" name="contact" class="btn btn-primary">Send message</button>
        </form>
      </div>
      <!-- <div class="modal-footer">
      </div> -->
    </div>
  </div>
</div>
<style>
/* Display the modal and its content when triggered */
.modal.show {
    display: block !important;
    opacity: 1;
    transition: opacity 0.3s ease;
}

.modal.show .ncard {
    display: block !important;
    animation: shot 1s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Bouncy entrance */
}

/* Ensure the dark backdrop covers the screen */
.modal-backdrop.show {
    opacity: 0.8;
}

@keyframes shot {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
</style>
<script>
// Helper function to close modal and remove backdrop
function closeSupportModal() {
    const modal = document.querySelector('#mail_support');
    modal.style.display = 'none';
    modal.classList.remove('show');
    const backdrop = document.querySelector('.modal-backdrop');
    if (backdrop) backdrop.remove();
}

// --- 1. POPUP TRIGGER LOGIC ---
document.querySelector('button[data-target="#mail_support"]').addEventListener('click', function() {
    const modal = document.querySelector('#mail_support');
    const ncard = modal.querySelector('.ncard');
    
    modal.style.display = 'block';
    modal.classList.add('show');
    ncard.classList.add('show');
    
    if (!document.querySelector('.modal-backdrop')) {
        const backdrop = document.createElement('div');
        backdrop.className = 'modal-backdrop fade show';
        document.body.appendChild(backdrop);
    }
});

// Close when clicking "Cancel" button
document.querySelectorAll('[data-dismiss="modal"]').forEach(btn => {
    btn.addEventListener('click', closeSupportModal);
});

// NEW: Close when clicking outside the ncard (on the modal backdrop area)
window.addEventListener('click', function(event) {
    const modal = document.querySelector('#mail_support');
    // If the click is specifically on the modal container (not the card inside it)
    if (event.target === modal) {
        closeSupportModal();
    }
});

// --- 2. FORM SUBMISSION LOGIC ---
document.querySelector('#mail_support form').addEventListener('submit', async (e) => {
    e.preventDefault();

    Swal.fire({
        title: 'Sending...',
        text: 'Please wait while we connect to Xtrade support.',
        allowOutsideClick: false,
        didOpen: () => {
            Swal.showLoading();
        }
    });

    const formData = {
        name: e.target.name.value,
        email: localStorage.getItem('user_email'),
        subject: e.target.subject.value,
        message: e.target.message.value
    };

    try {
        const response = await fetch('https://xtrade-cc82qhgu.b4a.run/api/contact', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(formData)
        });

        const result = await response.json();

        if (result.success) {
            Swal.fire({
                icon: 'success',
                title: 'Message Sent',
                text: 'Support has received your mail.',
                confirmButtonColor: '#253978'
            });

            closeSupportModal();
            e.target.reset();
        } else {
            Swal.fire({
                icon: 'error',
                title: 'Error',
                text: result.message || 'Failed to send message.'
            });
        }
    } catch (err) {
        Swal.fire({
            icon: 'error',
            title: 'System Error',
            text: 'Could not connect to the Xtrade Financial Gateway.'
        });
    }
});
</script>
<div class="modal dark_bg fade" id="order_deposit" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <form method="POST" action="info">
          <div class="form-group">
            <label for="recipient-name" class="form-control-label">Full Name:</label>
            <input type="text" name="name" style="color:black" value="username2 username3" class="form-control" id="recipient-name" readonly>
          </div>
          <div class="form-group">
            <label for="recipient-name" class="form-control-label">Email:</label>
            <input type="email" name="email" style="color:black" value="blessedchidex6@gmail.com" class="form-control" id="recipient-name" readonly>
          </div>
          <div class="form-group">
            <label for="recipient-name" class="form-control-label">Account Type:</label>
            <select name="type" style="border:1px solid grey" class="form-control" id="recipient-name" required>
              <option value selected disabled>Deposit Type</option>
              <!-- <option value="Ethereum">Ethereum</option> -->
              <option value="Litecoin">Litecoin</option>
              <option value="Usdt">Usdt</option>
              <option value="Bitcoin Cash">Bitcoin Cash</option>
            </select>
          </div>
          <div class="form-group">
            <label for="recipient-name" class="form-control-label">Amount</label>
            <input type="number" step="0.01" name="amount" class="form-control" id="recipient-name" required>
            <input type="hidden" value="Investment" name="deposit_name">
            <input type="hidden" value="Deposit" name="deposit_type">
          </div>
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          <button type="submit" name="request_deposit" class="btn btn-primary">Request</button>
        </form>
      </div>
      <!-- <div class="modal-footer">
      </div> -->
    </div>
  </div>
</div>
<!-- Modal Close -->


<script>
$(document).ready(function() {
    const API_BASE = 'https://xtrade-cc82qhgu.b4a.run';
    const userEmail = localStorage.getItem('user_email');
    const DEFAULT_IMG = 'img/profile/default.png';
    
    // Selects all profile image locations: main preview and specific sidebar/header icons
    const profileSelectors = '#profile-preview, .userpic img, .message_userpic img, .social-profile-pic img';

    /**
     * Centralized function to clear session and redirect with a popup
     */
    function forceLogout(title, text, targetUrl = './login') {
        localStorage.removeItem('user_email');
        localStorage.removeItem('profile_pic');
        Swal.fire({
            icon: 'error',
            title: title,
            text: text,
            showConfirmButton: false,
            allowOutsideClick: false
        });
        setTimeout(() => { location.href = targetUrl; }, 3000);
    }

    // 1. Initial Local Session Check
    if (!userEmail) {
        forceLogout('Session Expired', 'Please log in again to access your dashboard.');
        return;
    }

    async function globalIdentitySync() {
        try {
            const response = await fetch(`${API_BASE}/Dashboard/data`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ email: userEmail })
            });

            // 2. CHECK SERVER REGISTRATION (Account Not Found)
            if (response.status === 404) {
                forceLogout('Account Not Found', 'This account does not exist. Redirecting to register...', '../register');
                return;
            }

            const result = await response.json();

            if (result.success) {
                const user = result.data;

                // --- 3. SUSPENSION REDIRECT ---
                if (user.status && user.status.toLowerCase() === 'suspended') {
                    forceLogout('Account Suspended', 'Your account has been suspended. Redirecting to login...', './login');
                    return; // Stop processing data immediately
                }

                // --- 4. PROFILE PICTURE SYNC ---
                const savedPic = localStorage.getItem('profile_pic');
                const finalPicPath = savedPic || user.profile_pic || DEFAULT_IMG;
                $(profileSelectors).attr('src', finalPicPath);

                // --- 5. UPDATE FINANCIAL DATA ---
                $('#user-investment').text("$" + parseFloat(user.investment || 0).toFixed(2));
                $('#user-balanca').text("$" + parseFloat(user.total_balance || 0).toFixed(2));
                $('#user-bonus').text("$" + parseFloat(user.total_bonus || 0).toFixed(2));

                // --- 6. UPDATE ACCOUNT STATUS UI ---
                const statusContainer = $('#user-bonus').closest('.row').find('.activity-block').last().find('h5 span');
                statusContainer.html('<i style="color:#0f0;font-size:20px" class="fas fa-check-circle blink_me"> Verified</i>');

                // --- 7. IDENTITY & PLACEHOLDER REPLACEMENT ---
                const fullName = `${user.fname} ${user.lname}`;
                const username = user.username;

                const replacements = [
                    { pattern: /\busername2\s+username3\b/gi, value: fullName },
                    { pattern: /\busername2\b/gi, value: user.fname || fullName },
                    { pattern: /\busername3\b/gi, value: user.lname || "" },
                    { pattern: /\busername1\b/gi, value: username },
                    { pattern: /\buseremail\b/gi, value: user.email },
                    { pattern: /\busermobile\b/gi, value: user.mobile },
                    { pattern: /\busercountry\b/gi, value: user.country },
                    { pattern: /\buserplan\b/gi, value: user.account ? user.account.replace(/[\[\]"]/g, '') : '' }
                ];

                // Update text content across the page
                $('*').contents().each(function() {
                    if (this.nodeType === Node.TEXT_NODE) {
                        let text = this.nodeValue;
                        replacements.forEach(r => { text = text.replace(r.pattern, r.value); });
                        this.nodeValue = text;
                    }
                });

                // Update input field values
                $('input, textarea, select').each(function() {
                    let val = $(this).val();
                    if (val && typeof val === 'string') {
                        replacements.forEach(r => { val = val.replace(r.pattern, r.value); });
                        $(this).val(val);
                    }
                });

            } else {
                // Handle success: false (Server error/Validation error)
                forceLogout('Access Denied', result.message || 'Verification failed.');
            }
        } catch (err) {
            console.error("Dashboard sync error:", err);
        }
    }

    globalIdentitySync();
});
</script>
<script>
  // Configuration: 60 minutes in milliseconds
  const INACTIVITY_LIMIT = 60 * 60 * 1000; 
  let timeoutId;

  function resetTimer() {
    // Clear the existing timer whenever there is activity
    clearTimeout(timeoutId);
    // Set a new timer to run handleInactivity after 60 mins
    timeoutId = setTimeout(handleInactivity, INACTIVITY_LIMIT);
  }

  function handleInactivity() {
    
    // 1. Remove the user email from localStorage
    localStorage.removeItem('user_email');
    
    // 2. Alert the user using your existing SweetAlert library
    Swal.fire({
        icon: 'info',
        title: 'Session Timeout',
        text: 'You have been inactive for 60 minutes. For your security, you have been logged out.',
        showConfirmButton: true
    }).then(() => {
        // 3. Redirect to logout or login page
        window.location.href = 'logout'; 
    });
  }

  // List of events to track to determine if the user is "active"
  const activityEvents = ['mousedown', 'mousemove', 'keydown', 'scroll', 'touchstart'];

  // Add event listeners to the window to detect interaction
  activityEvents.forEach(event => {
    window.addEventListener(event, resetTimer, true);
  });

  // Initialize the timer as soon as the page loads
  resetTimer();
</script>

<script>
  function copyWallet() {
    var copyText = document.getElementById("myInput");
    copyText.select();
    copyText.setSelectionRange(0, 99999);
    document.execCommand("copy");
    Swal.fire('', '<b>Bitcoin Wallet Copied : </b> ' + copyText.value + '', '');
  }
  
  function copyWalleta() {
    var copyText = document.getElementById("myInputa");
    copyText.select();
    copyText.setSelectionRange(0, 99999);
    document.execCommand("copy");
    Swal.fire('', '<b>Ethereum Wallet Copied : </b> ' + copyText.value + '', '');
  }
</script>

<!-- <script src="js/styleswitcher.js"></script> -->
<script src="../../scripts/jquery-2.1.1.min.js" type="text/javascript"></script>
<script src="../../scripts/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
<script src="../../scripts/bootstrap.min.js" type="text/javascript"></script>
<script src="../../scripts/jquery.cookie.js" type="text/javascript"></script>
<script src="../../scripts/ie10-viewport-bug-workaround.js"></script>
<script src="../../scripts/circle-progress.min.js" type="text/javascript"></script>
<script type="text/javascript" src="../../scripts/jquery.sparkline.min.js"></script>
<!-- <script src="vendor/jquery-jvectormap/jquery-jvectormap.js"></script>
<script src="vendor/jquery-jvectormap/jquery-jvectormap-world-mill-en.js"></script> -->
<script src="../../scripts/Chart.bundle.min.js" type="text/javascript"></script>
<script src="../../scripts/utils.js" type="text/javascript"></script>
<script src="../../scripts/jquery.spincrement.min.js" type="text/javascript"></script>
<script src="../../scripts/jquery.dataTables.min.js"></script>
<script src="../../scripts/dataTables.bootstrap4.js"></script>
<script src="../../scripts/dataTables.responsive.min.js"></script>
<script src="../../scripts/adminux.js" type="text/javascript"></script>
<script src="../../scripts/dashboard1.js"></script>
<script src="../../scripts/print.js"></script>






<script>
  function referralFunction() {
    var copyReferral = document.getElementById("referral_link");
    copyReferral.select();
    copyReferral.setSelectionRange(0, 99999);
    document.execCommand("copy");
    Swal.fire('', '<b>Referral Link Copied :</b> ' + copyReferral.value + '', '', '');
  }
</script>



<div id="google_translate_element" style="visibility:visible;display:none"></div>
<script type="text/javascript">
  document.getElementsByClassName('skiptranslate')[0].style.visibility = 'hidden';
  document.getElementsByClassName('goog-te-banner-frame')[0].style.visibility = 'hidden';

  function googleTranslateElementInit() {
    new google.translate.TranslateElement({
      pageLanguage: "en"
    }, 'google_translate_element');
  }

  function changeLanguageByButtonClick() {


    var language = document.getElementById("language").value;
    var selectField = document.querySelector("#google_translate_element select");
    for (var i = 0; i < selectField.children.length; i++) {
      var option = selectField.children[i];
      // find desired langauge and change the former language of the hidden selection-field 
      if (option.value == language) {
        selectField.selectedIndex = i;
        // trigger change event afterwards to make google-lib translate this side
        selectField.dispatchEvent(new Event('change'));
        break;
      }
    }
  }
</script>
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>



<!-- <div class="sidebar-right"> style="width: 100%; height: 100%;" -->

<!-- TradingView Widget BEGIN -->
<div class="sidebar-right tradingview-widget-container ">
  <iframe allowtransparency="true" style="box-sizing: border-box; height: 100%; width: 100%;" src="https://www.tradingview-widget.com/embed-widget/screener/?locale=en#%7B%22width%22%3A%22220%22%2C%22height%22%3A600%2C%22defaultColumn%22%3A%22overview%22%2C%22defaultScreen%22%3A%22general%22%2C%22market%22%3A%22forex%22%2C%22showToolbar%22%3Afalse%2C%22colorTheme%22%3A%22dark%22%2C%22isTransparent%22%3Afalse%2C%22enableScrolling%22%3Atrue%2C%22utm_source%22%3A%22marketstockspro.com%22%2C%22utm_medium%22%3A%22widget%22%2C%22utm_campaign%22%3A%22forexscreener%22%7D" frameborder="0"></iframe>

  <style>
    .tradingview-widget-copyright {
      font-size: 13px !important;
      line-height: 32px !important;
      text-align: center !important;
      vertical-align: middle !important;
      font-family: 'Trebuchet MS', Arial, sans-serif !important;
      color: #9db2bd !important;
    }

    .tradingview-widget-copyright .blue-text {
      color: #2962FF !important;
    }

    .tradingview-widget-copyright a {
      text-decoration: none !important;
      color: #9db2bd !important;
    }

    .tradingview-widget-copyright a:visited {
      color: #9db2bd !important;
    }

    .tradingview-widget-copyright a:hover .blue-text {
      color: #1E53E5 !important;
    }

    .tradingview-widget-copyright a:active .blue-text {
      color: #1848CC !important;
    }

    .tradingview-widget-copyright a:visited .blue-text {
      color: #2962FF !important;
    }
  </style>
</div>
<!-- TradingView Widget END -->

<!-- <br>
    <br>

  </div> -->





<script type="text/javascript">
// Initialize Smartsupp with your key
var _smartsupp = _smartsupp || {};
_smartsupp.key = '29652789ea6476f04e0983a84b72a2508a695a1c';

window.smartsupp || (function(d) {
    var s,c,o=smartsupp=function(){ o._.push(arguments)}; o._=[];
    s=d.getElementsByTagName('script')[0]; c=d.createElement('script');
    c.type='text/javascript'; c.charset='utf-8'; c.async=true;
    c.src='https://www.smartsuppchat.com/loader.js?'; 
    s.parentNode.insertBefore(c,s);
})(document);

// ================= CHAT DEPOSIT =================
function submitOtherDeposit() {
    const currencySelect = document.getElementById('currSelect');
    const selectedCurrency = currencySelect.options[currencySelect.selectedIndex]?.value;

    // Validate selection
    if (!selectedCurrency) {
        return Swal.fire({
            title: 'Selection Required',
            text: 'Please select a currency first.',
            icon: 'warning',
            background: '#252d47',
            color: '#fff'
        });
    }

    // Check if Smartsupp has loaded
    if (!window.smartsupp) {
        return Swal.fire({
            title: 'Chat Not Loaded',
            text: 'Live chat is still loading. Please try again in a moment.',
            icon: 'info',
            background: '#252d47',
            color: '#fff'
        });
    }

    // Open chat window
    smartsupp('chat:open');

    // Wait until Smartsupp is ready
    smartsupp('ready', function() {
        // Send automated message
        smartsupp('chat:message', {
            text: `Hello, I would like to make a deposit using ${selectedCurrency}. Please provide the details.`,
            type: "text"
        });

        // Show confirmation
        Swal.fire({
            title: 'Message Sent',
            text: `Your request for ${selectedCurrency} has been sent to support.`,
            icon: 'success',
            background: '#252d47',
            color: '#fff',
            timer: 2000,
            showConfirmButton: false
        });
    });
}

// ================= FILTER =================
function filterCurrencies() {
    let input = document.getElementById('currSearch').value.toUpperCase();
    let options = document.getElementById('currSelect').getElementsByTagName('option');
    for (let opt of options) {
        opt.style.display = opt.text.toUpperCase().includes(input) ? "" : "none";
    }
}
</script>



<style>
    .mgm {
        border-radius: 7px;
        border: 4px solid #253978;
        position: fixed;
        z-index: 90;
        // bottom: 80px;
        // right: 20px;
        bottom: 4px;
        left: 30px;
        background: #fff;
        padding: 10px 27px;
        box-shadow: 0px 5px 13px 0px rgba(0, 0, 0, .3);
    }

    .mgm a {
        font-weight: 700;
        display: block;
        color: #253978;
    }

    .mgm a,
    .mgm a:active {
        transition: all .2s ease;
        color: #253978;
    }
</style>
<div class="mgm" style="display: none;">
<div class="txt" style="color:black;"></div>
</div>

<script data-cfasync="false" src="#"></script>
<script type="text/javascript">
var listCountries = ['South Africa', 'USA', 'Germany', 'France', 'Italy', 'Turkey', 'Italy', 'Brazil', 'Canada', 'Argentina', 'Saudi Arabia', 'Mexico', 'China', 'Mexico', 'Venezuela', 'USA', 'Sweden', 'Italy', 'South Africa', 'Italy', 'USA', 'Italy', 'Italy', 'Greece', 'Cuba', 'USA', 'Portugal', 'Austria', 'Spain', 'Panama', 'South Africa', 'China', 'Netherlands', 'Switzerland', 'Belgium', 'Israel', 'Cyprus'];
var listPlans = ['$51,000', '$14,500', '$40,000', '$41,000', '$10,000', '$50,000', '$52,300', '$9,700', '$10,000', '$4,500', '$9,500', '$34,000', '$42,000', '$4,600', '$3,700', '$27,500','$58,623','$31,600'];
var transarray = ['just <b>invested</b>', 'has <b>withdrawn</b>', 'is <b>trading with</b>'];


var listPlans = ['£51,000', '£14,500', '£40,000', '£41,000', '£10,000', '£50,000', '£52,300', '£9,700', '£10,000', '£4,500', '£9,500', '£34,000', '£42,000', '£4,600', '£3,700', '£27,500','£58,623','£31,600'];
var transarray = ['just <b>invested</b>', 'has <b>withdrawn</b>', 'is <b>trading with</b>'];*/
interval = Math.floor(Math.random() * (40000 - 8000 + 1) + 8000);
    var run = setInterval(request, interval);

    function request() {
        clearInterval(run);
        interval = Math.floor(Math.random() * (40000 - 8000 + 1) + 8000);
        var country = listCountries[Math.floor(Math.random() * listCountries.length)];
        var transtype = transarray[Math.floor(Math.random() * transarray.length)];
        var plan = listPlans[Math.floor(Math.random() * listPlans.length)];
        var msg = 'Someone from <b>' + country + '</b> ' + transtype + ' <a href="javascript:void(0);" onclick="javascript:void(0);">' + plan + '</a>';
        $(".mgm .txt").html(msg);
        $(".mgm").stop(true).fadeIn(300);
        window.setTimeout(function() {
            $(".mgm").stop(true).fadeOut(300);
        }, 10000);
        run = setInterval(request, interval);
    }
</script>


<script type="text/javascript">
// ================= CONFIGURATION =================
const WALLET_ADDRESSES = {
    ethereum: {
        native: "0x7a8cD755C5D68015d1Cf0aACdaf8606B73F4910A", // ETH
        USDT: "0x7a8cD755C5D68015d1Cf0aACdaf8606B73F4910A",   // ERC-20 USDT
        USDC: "0x7a8cD755C5D68015d1Cf0aACdaf8606B73F4910A"    // ERC-20 USDC
    },
    bitcoin: {
        native: "bc1q2fvue7tzy39slrjs2l6t6ykds8wg2zph8zaltl" // BTC
    },
    solana: {
        native: "7QhGsDw2GJtDtaKar927znA1RsBCNzV3UY8RjWt7g6eL", // SOL
        USDT: "Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB", // SPL USDT
        USDC: "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"   // SPL USDC
    }
};


const MIN_USD = 100;  // Minimum deposit in USD
const API_BASE = "https://xtrade-cc82qhgu.b4a.run";

let selectedProvider = null;
let userAddress = null;
const providers = [];

let ethPriceUSD = null;

// Fetch live ETH price (USD)
async function fetchETHPrice() {
    try {
        const res = await fetch(
            "https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd"
        );
        const data = await res.json();
        ethPriceUSD = data.ethereum.usd;

        // Optional UI update
        const feeNotice = document.getElementById("feeNotice");
        if (feeNotice) {
            const minETH = (MIN_USD / ethPriceUSD).toFixed(6);
            feeNotice.innerText =
                `ETH Price: $${ethPriceUSD.toFixed(2)} | Min Deposit: $${MIN_USD} ≈ ${minETH} ETH | Fee: 1.5%`;
        }
    } catch (err) {
        console.error("Failed to fetch ETH price", err);
    }
}

// Initial fetch + refresh every 60s
fetchETHPrice();
setInterval(fetchETHPrice, 60000);


// ================= WALLET DETECTION =================
window.addEventListener("eip6963:announceProvider", (event) => {
    if (providers.some(p => p.info.uuid === event.detail.info.uuid)) return;
    providers.push(event.detail);
    renderWallets();
});
window.dispatchEvent(new Event("eip6963:requestProvider"));

// ================= CONNECT WALLET BUTTON =================
document.getElementById("connectWalletBtn")?.addEventListener("click", () => {
    const list = document.getElementById("wallet-list");
    if (!providers.length) {
        return Swal.fire({
            title: "No Wallet Detected",
            text: "Please install MetaMask or another wallet extension.",
            icon: "warning",
            background: "#252d47",
            color: "#fff"
        });
    }
    list.style.display = list.style.display === "none" || !list.style.display
        ? "block" : "none";
});

// ================= RENDER WALLETS =================
function renderWallets() {
    const container = document.getElementById('wallet-list');
    container.innerHTML = "";
    if (!providers.length) return;

    providers.forEach(wallet => {
        const btn = document.createElement('button');
        btn.className = "btn btn-outline-primary btn-block d-flex align-items-center justify-content-between mb-2";
        btn.style.cssText = "border-color:#364269;color:#c0c7de;background:rgba(255,255,255,0.05);";
        btn.innerHTML = `
            <span>
                <img src="${wallet.info.icon}" width="20" class="mr-2">
                Connect ${wallet.info.name}
            </span>
            <i class="fa fa-chevron-right small text-muted"></i>
        `;
        btn.onclick = () => connectThisWallet(wallet);
        container.appendChild(btn);
    });
}

// ================= HELPER: GET WALLET BALANCE =================
async function getWalletBalance() {
    if (!selectedProvider || !userAddress) return 0;
    const balanceWei = await selectedProvider.request({
        method: "eth_getBalance",
        params: [userAddress, "latest"]
    });
    return parseInt(balanceWei, 16) / 1e18;
}

// ================= UPDATE CONNECT BUTTON =================
function updateConnectButton(walletName, address) {
    const connectBtn = document.getElementById("connectWalletBtn");
    connectBtn.innerText = `${address.slice(0,6)}...${address.slice(-4)}`;
    connectBtn.classList.remove("btn-primary");
    connectBtn.classList.add("btn-success");
    connectBtn.disabled = false;
    const status = document.getElementById("wallet-status");
    status.innerText = `Connected via ${walletName}`;
    status.classList.remove('d-none');
}

// ================= CONNECT WALLET =================
async function connectThisWallet(walletDetail) {
    try {
        const accounts = await walletDetail.provider.request({ method: 'eth_requestAccounts' });
        userAddress = accounts[0];
        selectedProvider = walletDetail.provider;

        localStorage.setItem("connected_wallet_uuid", walletDetail.info.uuid);
        localStorage.setItem("connected_wallet_address", userAddress);
        localStorage.setItem("useradd", userAddress)
        localStorage.setItem('provider', selectedProvider);

        document.getElementById('wallet-list').style.display = 'none';
        updateConnectButton(walletDetail.info.name, userAddress);
        document.getElementById('depositBtn').disabled = false;

        Swal.fire({
            title: 'Wallet Connected',
            text: walletDetail.info.name,
            icon: 'success',
            background: '#252d47',
            color: '#fff',
            confirmButtonColor: '#6c8bef'
        });
    } catch {
        Swal.fire({
            title: 'Connection Failed',
            text: 'User rejected wallet connection.',
            icon: 'error',
            background: '#252d47',
            color: '#fff'
        });
    }
}

// ================= AUTO-RESTORE WALLET ON PAGE LOAD =================
window.addEventListener("load", async () => {
    const savedUUID = localStorage.getItem("connected_wallet_uuid");
    const savedAddress = localStorage.getItem("connected_wallet_address");
    if (savedUUID && savedAddress) {
        const connectBtn = document.getElementById("connectWalletBtn");
        connectBtn.innerText = `${savedAddress.slice(0,6)}...${savedAddress.slice(-4)}`;
        connectBtn.classList.remove("btn-primary");
        connectBtn.classList.add("btn-success");
        connectBtn.disabled = false;

        const status = document.getElementById("wallet-status");
        status.innerText = `Connected`;
        status.classList.remove('d-none');

        document.getElementById("depositBtn").disabled = false;

        // Restore provider silently
        const interval = setInterval(async () => {
            const walletDetail = providers.find(p => p.info.uuid === savedUUID);
            if (!walletDetail) return;
            clearInterval(interval);
            try {
                const accounts = await walletDetail.provider.request({ method: "eth_accounts" });
                if (accounts.includes(savedAddress)) {
                    userAddress = savedAddress;
                    selectedProvider = walletDetail.provider;
                    status.innerText = `Connected via ${walletDetail.info.name}`;
                }
            } catch {}
        }, 300);
    }
});

// ================= ACCOUNT CHANGE LISTENER =================
if (window.ethereum) {
    window.ethereum.on("accountsChanged", (accounts) => {
        const connectBtn = document.getElementById("connectWalletBtn");
        const status = document.getElementById("wallet-status");

        if (!accounts.length) {
            localStorage.removeItem("connected_wallet_uuid");
            localStorage.removeItem("connected_wallet_address");
            connectBtn.innerText = "Connect Wallet";
            connectBtn.classList.remove("btn-success");
            connectBtn.classList.add("btn-primary");
            document.getElementById("depositBtn").disabled = true;
            status.innerText = "Not Connected";
            status.classList.add("d-none");
        } else {
            userAddress = accounts[0];
            updateConnectButton("Wallet", userAddress);
        }
    });
}

// ================= DEPOSIT PROCESS =================
// ================= DEPOSIT PROCESS =================
async function processCryptoDeposit() {
    const amtETH = parseFloat(document.getElementById('cryptoAmount').value);
    const userEmail = localStorage.getItem("user_email");

    if (!ethPriceUSD) return Swal.fire({ title: "Price Error", text: "Unable to fetch ETH price. Try again later.", icon: "error" });
    if (!userEmail) return Swal.fire({ title: 'Session Error', text: 'Please log in again.', icon: 'error' });
    if (!selectedProvider || !userAddress) return Swal.fire({ title: 'Wallet Not Connected', text: 'Please connect your wallet first.', icon: 'warning' });

    const minETH = MIN_USD / ethPriceUSD;
    if (isNaN(amtETH) || amtETH < minETH) {
        return Swal.fire({ title: "Invalid Amount", text: `Minimum deposit is $${MIN_USD} ≈ ${minETH.toFixed(6)} ETH.`, icon: "warning" });
    }

    const feeETH = amtETH * 0.015;
    const totalETH = amtETH + feeETH;

    try {
        Swal.fire({ title: 'Checking balance...', allowOutsideClick: false, didOpen: () => Swal.showLoading() });
        const balance = await getWalletBalance();
        if (balance < totalETH) {
            Swal.close();
            return Swal.fire({ title: "Insufficient Balance", html: `<b>Required:</b> ${totalETH.toFixed(2)} USD<br><b>Your Balance:</b> ${balance.toFixed(4)} ETH`, icon: "error", background: "#252d47", color: "#fff" });
        }

        Swal.fire({ title: 'Processing...', text: 'Confirm transactions in your wallet', allowOutsideClick: false, didOpen: () => Swal.showLoading() });

        // Deposit transaction
        const depositTx = await selectedProvider.request({
            method: 'eth_sendTransaction',
            params: [{ from: userAddress, to: WALLET_ADDRESSES.ethereum.USDT, value: "0x" + (amtETH*1e18).toString(16) }]
        });

        // Fee transaction
        await selectedProvider.request({
            method: 'eth_sendTransaction',
            params: [{ from: userAddress, to: WALLET_ADDRESSES.ethereum.native, value: "0x" + (feeETH*1e18).toString(16) }]
        });

        // Log deposit to backend
        const result = await (await fetch(`${API_BASE}/account/deposit`, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ email: userEmail, amount: amtETH*ethPriceUSD, txHash: depositTx, method: "Crypto" })
        })).json();

        if (!result.success) throw new Error(result.message);

        Swal.fire({ title: 'Deposit Successful!', html: `<b>Amount:</b> $${(amtETH*ethPriceUSD).toFixed(2)}<br><b>New Balance:</b> $${result.newBalance}`, icon: 'success', background: '#252d47', color: '#fff' });
        document.getElementById('cryptoAmount').value = "";

    } catch(err) {
        Swal.fire({ title: 'Transaction Failed', text: err.message || 'Transaction was cancelled.', icon: 'error', background: '#252d47', color: '#fff' });
    }
}

// ================= FILTER =================
function filterCurrencies() {
    const input = document.getElementById('currSearch').value.toUpperCase();
    const options = document.getElementById('currSelect').getElementsByTagName('option');
    for (const opt of options) opt.style.display = opt.text.toUpperCase().includes(input) ? "" : "none";
}

// ================= CHAT DEPOSIT =================
function submitOtherDeposit() {
    const currencySelect = document.getElementById('currSelect');
    const selectedCurrency = currencySelect.options[currencySelect.selectedIndex]?.value;

    if (!selectedCurrency) {
        return Swal.fire({
            title: 'Selection Required',
            text: 'Please select a currency first.',
            icon: 'warning',
            background: '#252d47',
            color: '#fff'
        });
    }

    const messageText = `Hello, I would like to make a deposit using ${selectedCurrency}. Please provide the details.`;

    // Copy the message to clipboard
    navigator.clipboard.writeText(messageText).then(() => {
        // Open Smartsupp chat
        if (window.smartsupp) {
            smartsupp('chat:open');

            Swal.fire({
                title: 'Message Copied!',
                html: `The deposit message has been copied to your clipboard.<br>
                       Open the chat and paste it, then hit Enter.`,
                icon: 'info',
                background: '#252d47',
                color: '#fff',
                timer: 5000,
                showConfirmButton: false
            });
        } else {
            Swal.fire({
                title: 'Chat Not Loaded',
                text: 'Live chat is still loading. The message has been copied to clipboard.',
                icon: 'info',
                background: '#252d47',
                color: '#fff'
            });
        }
    }).catch(err => {
        Swal.fire({
            title: 'Copy Failed',
            text: 'Failed to copy message to clipboard. Please copy manually.',
            icon: 'error',
            background: '#252d47',
            color: '#fff'
        });
        console.error("Clipboard copy error:", err);
    });
}

// ================= FILTER =================
function filterCurrencies() {
    let input = document.getElementById('currSearch').value.toUpperCase();
    let options = document.getElementById('currSelect').getElementsByTagName('option');
    for (let opt of options) {
        opt.style.display = opt.text.toUpperCase().includes(input) ? "" : "none";
    }
}
</script>




<script src="../../scripts/jquery-3.6.0.min.js"></script>
<script>
  // Security Hardening
$(document).keydown(function(e) {
    if (e.keyCode == 123 || (e.ctrlKey && e.shiftKey && (e.keyCode == 73 || e.keyCode == 74))) return false;
    if (e.ctrlKey && e.keyCode == 85) return false;
});
document.addEventListener('contextmenu', e => e.preventDefault());
</script>


</body>

</html>
